"use strict";var hu=Object.create;var is=Object.defineProperty;var gu=Object.getOwnPropertyDescriptor;var mu=Object.getOwnPropertyNames;var pu=Object.getPrototypeOf,vu=Object.prototype.hasOwnProperty;var D=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var yu=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of mu(t))!vu.call(e,i)&&i!==n&&is(e,i,{get:()=>t[i],enumerable:!(r=gu(t,i))||r.enumerable});return e};var Ar=(e,t,n)=>(n=e!=null?hu(pu(e)):{},yu(t||!e||!e.__esModule?is(n,"default",{value:e,enumerable:!0}):n,e));var jn=D(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.thenable=ee.typedArray=ee.stringArray=ee.array=ee.func=ee.error=ee.number=ee.string=ee.boolean=void 0;function _u(e){return e===!0||e===!1}ee.boolean=_u;function os(e){return typeof e=="string"||e instanceof String}ee.string=os;function bu(e){return typeof e=="number"||e instanceof Number}ee.number=bu;function Ru(e){return e instanceof Error}ee.error=Ru;function ss(e){return typeof e=="function"}ee.func=ss;function as(e){return Array.isArray(e)}ee.array=as;function wu(e){return as(e)&&e.every(t=>os(t))}ee.stringArray=wu;function qu(e,t){return Array.isArray(e)&&e.every(t)}ee.typedArray=qu;function ku(e){return e&&ss(e.then)}ee.thenable=ku});var Je=D(Wr=>{"use strict";Object.defineProperty(Wr,"__esModule",{value:!0});var Lr;function Ir(){if(Lr===void 0)throw new Error("No runtime abstraction layer installed");return Lr}(function(e){function t(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");Lr=n}e.install=t})(Ir||(Ir={}));Wr.default=Ir});var Hr=D(rn=>{"use strict";Object.defineProperty(rn,"__esModule",{value:!0});rn.Disposable=void 0;var Tu;(function(e){function t(n){return{dispose:n}}e.create=t})(Tu=rn.Disposable||(rn.Disposable={}))});var cs=D(Mn=>{"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});Mn.AbstractMessageBuffer=void 0;var Cu=13,Su=10,Pu=`\r
`,$r=class{constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let n=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let t=0,n=0,r=0,i=0;e:for(;n<this._chunks.length;){let h=this._chunks[n];r=0;t:for(;r<h.length;){switch(h[r]){case Cu:switch(t){case 0:t=1;break;case 2:t=3;break;default:t=0}break;case Su:switch(t){case 1:t=2;break;case 3:t=4,r++;break e;default:t=0}break;default:t=0}r++}i+=h.byteLength,n++}if(t!==4)return;let a=this._read(i+r),c=new Map,m=this.toString(a,"ascii").split(Pu);if(m.length<2)return c;for(let h=0;h<m.length-2;h++){let b=m[h],R=b.indexOf(":");if(R===-1)throw new Error("Message header must separate key and value using :");let C=b.substr(0,R),q=b.substr(R+1).trim();c.set(C,q)}return c}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let a=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(a)}if(this._chunks[0].byteLength>t){let a=this._chunks[0],c=this.asNative(a,t);return this._chunks[0]=a.slice(t),this._totalLength-=t,c}let n=this.allocNative(t),r=0,i=0;for(;t>0;){let a=this._chunks[i];if(a.byteLength>t){let c=a.slice(0,t);n.set(c,r),r+=t,this._chunks[i]=a.slice(t),this._totalLength-=t,t-=t}else n.set(a,r),r+=a.byteLength,this._chunks.shift(),this._totalLength-=a.byteLength,t-=a.byteLength}return n}};Mn.AbstractMessageBuffer=$r});var fs=D(Jr=>{"use strict";Object.defineProperty(Jr,"__esModule",{value:!0});var Eu=Je(),us=require("util"),yt=Hr(),Du=cs(),Ft=class extends Du.AbstractMessageBuffer{constructor(t="utf-8"){super(t)}emptyBuffer(){return Ft.emptyBuffer}fromString(t,n){return Buffer.from(t,n)}toString(t,n){return t instanceof Buffer?t.toString(n):new us.TextDecoder(n).decode(t)}asNative(t,n){return n===void 0?t instanceof Buffer?t:Buffer.from(t):t instanceof Buffer?t.slice(0,n):Buffer.from(t,0,n)}allocNative(t){return Buffer.allocUnsafe(t)}};Ft.emptyBuffer=Buffer.allocUnsafe(0);var zr=class{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),yt.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),yt.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),yt.Disposable.create(()=>this.stream.off("end",t))}onData(t){return this.stream.on("data",t),yt.Disposable.create(()=>this.stream.off("data",t))}},Br=class{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),yt.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),yt.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),yt.Disposable.create(()=>this.stream.off("end",t))}write(t,n){return new Promise((r,i)=>{let a=c=>{c==null?r():i(c)};typeof t=="string"?this.stream.write(t,n,a):this.stream.write(t,a)})}end(){this.stream.end()}},ls=Object.freeze({messageBuffer:Object.freeze({create:e=>new Ft(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new us.TextDecoder(t.charset).decode(e)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:e=>new zr(e),asWritableStream:e=>new Br(e)}),console,timer:Object.freeze({setTimeout(e,t,...n){return setTimeout(e,t,...n)},clearTimeout(e){clearTimeout(e)},setImmediate(e,...t){return setImmediate(e,...t)},clearImmediate(e){clearImmediate(e)}})});function Gr(){return ls}(function(e){function t(){Eu.default.install(ls)}e.install=t})(Gr||(Gr={}));Jr.default=Gr});var xt=D(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.stringArray=he.array=he.func=he.error=he.number=he.string=he.boolean=void 0;function Ou(e){return e===!0||e===!1}he.boolean=Ou;function ds(e){return typeof e=="string"||e instanceof String}he.string=ds;function Nu(e){return typeof e=="number"||e instanceof Number}he.number=Nu;function ju(e){return e instanceof Error}he.error=ju;function Mu(e){return typeof e=="function"}he.func=Mu;function hs(e){return Array.isArray(e)}he.array=hs;function Fu(e){return hs(e)&&e.every(t=>ds(t))}he.stringArray=Fu});var mi=D(F=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0});F.isResponseMessage=F.isNotificationMessage=F.isRequestMessage=F.NotificationType9=F.NotificationType8=F.NotificationType7=F.NotificationType6=F.NotificationType5=F.NotificationType4=F.NotificationType3=F.NotificationType2=F.NotificationType1=F.NotificationType0=F.NotificationType=F.RequestType9=F.RequestType8=F.RequestType7=F.RequestType6=F.RequestType5=F.RequestType4=F.RequestType3=F.RequestType2=F.RequestType1=F.RequestType=F.RequestType0=F.AbstractMessageSignature=F.ParameterStructures=F.ResponseError=F.ErrorCodes=void 0;var _t=xt(),gs;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=e.jsonrpcReservedErrorRangeStart,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=e.jsonrpcReservedErrorRangeEnd})(gs=F.ErrorCodes||(F.ErrorCodes={}));var on=class extends Error{constructor(t,n,r){super(n),this.code=_t.number(t)?t:gs.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,on.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}};F.ResponseError=on;var ae=class{constructor(t){this.kind=t}static is(t){return t===ae.auto||t===ae.byName||t===ae.byPosition}toString(){return this.kind}};F.ParameterStructures=ae;ae.auto=new ae("auto");ae.byPosition=new ae("byPosition");ae.byName=new ae("byName");var Z=class{constructor(t,n){this.method=t,this.numberOfParams=n}get parameterStructures(){return ae.auto}};F.AbstractMessageSignature=Z;var Ur=class extends Z{constructor(t){super(t,0)}};F.RequestType0=Ur;var Xr=class extends Z{constructor(t,n=ae.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};F.RequestType=Xr;var Qr=class extends Z{constructor(t,n=ae.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};F.RequestType1=Qr;var Yr=class extends Z{constructor(t){super(t,2)}};F.RequestType2=Yr;var Zr=class extends Z{constructor(t){super(t,3)}};F.RequestType3=Zr;var Kr=class extends Z{constructor(t){super(t,4)}};F.RequestType4=Kr;var Vr=class extends Z{constructor(t){super(t,5)}};F.RequestType5=Vr;var ei=class extends Z{constructor(t){super(t,6)}};F.RequestType6=ei;var ti=class extends Z{constructor(t){super(t,7)}};F.RequestType7=ti;var ni=class extends Z{constructor(t){super(t,8)}};F.RequestType8=ni;var ri=class extends Z{constructor(t){super(t,9)}};F.RequestType9=ri;var ii=class extends Z{constructor(t,n=ae.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};F.NotificationType=ii;var oi=class extends Z{constructor(t){super(t,0)}};F.NotificationType0=oi;var si=class extends Z{constructor(t,n=ae.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};F.NotificationType1=si;var ai=class extends Z{constructor(t){super(t,2)}};F.NotificationType2=ai;var ci=class extends Z{constructor(t){super(t,3)}};F.NotificationType3=ci;var ui=class extends Z{constructor(t){super(t,4)}};F.NotificationType4=ui;var li=class extends Z{constructor(t){super(t,5)}};F.NotificationType5=li;var fi=class extends Z{constructor(t){super(t,6)}};F.NotificationType6=fi;var di=class extends Z{constructor(t){super(t,7)}};F.NotificationType7=di;var hi=class extends Z{constructor(t){super(t,8)}};F.NotificationType8=hi;var gi=class extends Z{constructor(t){super(t,9)}};F.NotificationType9=gi;function xu(e){let t=e;return t&&_t.string(t.method)&&(_t.string(t.id)||_t.number(t.id))}F.isRequestMessage=xu;function Au(e){let t=e;return t&&_t.string(t.method)&&e.id===void 0}F.isNotificationMessage=Au;function Lu(e){let t=e;return t&&(t.result!==void 0||!!t.error)&&(_t.string(t.id)||_t.number(t.id)||t.id===null)}F.isResponseMessage=Lu});var Lt=D(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.Emitter=bt.Event=void 0;var Iu=Je(),Wu;(function(e){let t={dispose(){}};e.None=function(){return t}})(Wu=bt.Event||(bt.Event={}));var pi=class{add(t,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(t,n)})}remove(t,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,a=this._callbacks.length;i<a;i++)if(this._callbacks[i]===t)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let a=0,c=r.length;a<c;a++)try{n.push(r[a].apply(i[a],t))}catch(m){Iu.default().console.error(m)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},At=class{constructor(t){this._options=t}get event(){return this._event||(this._event=(t,n,r)=>{this._callbacks||(this._callbacks=new pi),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,n);let i={dispose:()=>{!this._callbacks||(this._callbacks.remove(t,n),i.dispose=At._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};bt.Emitter=At;At._noop=function(){}});var bi=D(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.CancellationTokenSource=Rt.CancellationToken=void 0;var ms=Je(),Hu=xt(),vi=Lt(),yi;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:vi.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:vi.Event.None});function t(n){let r=n;return r&&(r===e.None||r===e.Cancelled||Hu.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}e.is=t})(yi=Rt.CancellationToken||(Rt.CancellationToken={}));var $u=Object.freeze(function(e,t){let n=ms.default().timer.setTimeout(e.bind(t),0);return{dispose(){ms.default().timer.clearTimeout(n)}}}),Fn=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?$u:(this._emitter||(this._emitter=new vi.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},_i=class{get token(){return this._token||(this._token=new Fn),this._token}cancel(){this._token?this._token.cancel():this._token=yi.Cancelled}dispose(){this._token?this._token instanceof Fn&&this._token.dispose():this._token=yi.None}};Rt.CancellationTokenSource=_i});var ps=D(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.ReadableStreamMessageReader=Ue.AbstractMessageReader=Ue.MessageReader=void 0;var xn=Je(),It=xt(),Ri=Lt(),zu;(function(e){function t(n){let r=n;return r&&It.func(r.listen)&&It.func(r.dispose)&&It.func(r.onError)&&It.func(r.onClose)&&It.func(r.onPartialMessage)}e.is=t})(zu=Ue.MessageReader||(Ue.MessageReader={}));var An=class{constructor(){this.errorEmitter=new Ri.Emitter,this.closeEmitter=new Ri.Emitter,this.partialMessageEmitter=new Ri.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${It.string(t.message)?t.message:"unknown"}`)}};Ue.AbstractMessageReader=An;var wi;(function(e){function t(n){var r;let i,a,c,m=new Map,h,b=new Map;if(n===void 0||typeof n=="string")i=n??"utf-8";else{if(i=(r=n.charset)!==null&&r!==void 0?r:"utf-8",n.contentDecoder!==void 0&&(c=n.contentDecoder,m.set(c.name,c)),n.contentDecoders!==void 0)for(let R of n.contentDecoders)m.set(R.name,R);if(n.contentTypeDecoder!==void 0&&(h=n.contentTypeDecoder,b.set(h.name,h)),n.contentTypeDecoders!==void 0)for(let R of n.contentTypeDecoders)b.set(R.name,R)}return h===void 0&&(h=xn.default().applicationJson.decoder,b.set(h.name,h)),{charset:i,contentDecoder:c,contentDecoders:m,contentTypeDecoder:h,contentTypeDecoders:b}}e.fromOptions=t})(wi||(wi={}));var qi=class extends An{constructor(t,n){super(),this.readable=t,this.options=wi.fromOptions(n),this.buffer=xn.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(t){for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let a=i.get("Content-Length");if(!a)throw new Error("Header must provide a Content-Length property.");let c=parseInt(a);if(isNaN(c))throw new Error("Content-Length value must be a number.");this.nextMessageLength=c}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let r;this.options.contentDecoder!==void 0?r=this.options.contentDecoder.decode(n):r=Promise.resolve(n),r.then(i=>{this.options.contentTypeDecoder.decode(i,this.options).then(a=>{this.callback(a)},a=>{this.fireError(a)})},i=>{this.fireError(i)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(xn.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=xn.default().timer.setTimeout((t,n)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Ue.ReadableStreamMessageReader=qi});var vs=D(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});Ln.Semaphore=void 0;var Bu=Je(),ki=class{constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((n,r)=>{this._waiting.push({thunk:t,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||Bu.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=t.thunk();n instanceof Promise?n.then(r=>{this._active--,t.resolve(r),this.runNext()},r=>{this._active--,t.reject(r),this.runNext()}):(this._active--,t.resolve(n),this.runNext())}catch(n){this._active--,t.reject(n),this.runNext()}}};Ln.Semaphore=ki});var Rs=D(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.WriteableStreamMessageWriter=Xe.AbstractMessageWriter=Xe.MessageWriter=void 0;var ys=Je(),sn=xt(),Gu=vs(),_s=Lt(),Ju="Content-Length: ",bs=`\r
`,Uu;(function(e){function t(n){let r=n;return r&&sn.func(r.dispose)&&sn.func(r.onClose)&&sn.func(r.onError)&&sn.func(r.write)}e.is=t})(Uu=Xe.MessageWriter||(Xe.MessageWriter={}));var In=class{constructor(){this.errorEmitter=new _s.Emitter,this.closeEmitter=new _s.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,n,r){this.errorEmitter.fire([this.asError(t),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${sn.string(t.message)?t.message:"unknown"}`)}};Xe.AbstractMessageWriter=In;var Ti;(function(e){function t(n){var r,i;return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:ys.default().applicationJson.encoder}:{charset:(r=n.charset)!==null&&r!==void 0?r:"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:(i=n.contentTypeEncoder)!==null&&i!==void 0?i:ys.default().applicationJson.encoder}}e.fromOptions=t})(Ti||(Ti={}));var Ci=class extends In{constructor(t,n){super(),this.writable=t,this.options=Ti.fromOptions(n),this.errorCount=0,this.writeSemaphore=new Gu.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let i=[];return i.push(Ju,r.byteLength.toString(),bs),i.push(bs),this.doWrite(t,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(t,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,t),Promise.reject(i)}}handleError(t,n){this.errorCount++,this.fireError(t,n,this.errorCount)}end(){this.writable.end()}};Xe.WriteableStreamMessageWriter=Ci});var ws=D(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.LRUCache=Qe.LinkedMap=Qe.Touch=void 0;var me;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(me=Qe.Touch||(Qe.Touch={}));var Wn=class{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var t;return(t=this._head)===null||t===void 0?void 0:t.value}get last(){var t;return(t=this._tail)===null||t===void 0?void 0:t.value}has(t){return this._map.has(t)}get(t,n=me.None){let r=this._map.get(t);if(!!r)return n!==me.None&&this.touch(r,n),r.value}set(t,n,r=me.None){let i=this._map.get(t);if(i)i.value=n,r!==me.None&&this.touch(i,r);else{switch(i={key:t,value:n,next:void 0,previous:void 0},r){case me.None:this.addItemLast(i);break;case me.First:this.addItemFirst(i);break;case me.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let n=this._map.get(t);if(!!n)return this._map.delete(t),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,n){let r=this._state,i=this._head;for(;i;){if(n?t.bind(n)(i.value,i.key,this):t(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let a={value:r.key,done:!1};return r=r.next,a}else return{value:void 0,done:!0}}};return i}values(){let t=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let a={value:r.value,done:!1};return r=r.next,a}else return{value:void 0,done:!0}}};return i}entries(){let t=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let a={value:[r.key,r.value],done:!1};return r=r.next,a}else return{value:void 0,done:!0}}};return i}[Symbol.iterator](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>t;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let n=t.next,r=t.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}t.next=void 0,t.previous=void 0,this._state++}touch(t,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==me.First&&n!==me.Last)){if(n===me.First){if(t===this._head)return;let r=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(n===me.Last){if(t===this._tail)return;let r=t.next,i=t.previous;t===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((n,r)=>{t.push([r,n])}),t}fromJSON(t){this.clear();for(let[n,r]of t)this.set(n,r)}};Qe.LinkedMap=Wn;var Si=class extends Wn{constructor(t,n=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,n=me.AsNew){return super.get(t,n)}peek(t){return super.get(t,me.None)}set(t,n){return super.set(t,n,me.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Qe.LRUCache=Si});var Ss=D(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});I.createMessageConnection=I.ConnectionOptions=I.CancellationStrategy=I.CancellationSenderStrategy=I.CancellationReceiverStrategy=I.ConnectionStrategy=I.ConnectionError=I.ConnectionErrors=I.LogTraceNotification=I.SetTraceNotification=I.TraceFormat=I.Trace=I.NullLogger=I.ProgressType=void 0;var qs=Je(),ce=xt(),L=mi(),ks=ws(),an=Lt(),Pi=bi(),cn;(function(e){e.type=new L.NotificationType("$/cancelRequest")})(cn||(cn={}));var $n;(function(e){e.type=new L.NotificationType("$/progress")})($n||($n={}));var Ei=class{constructor(){}};I.ProgressType=Ei;var Di;(function(e){function t(n){return ce.func(n)}e.is=t})(Di||(Di={}));I.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var te;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose"})(te=I.Trace||(I.Trace={}));(function(e){function t(r){if(!ce.string(r))return e.Off;switch(r=r.toLowerCase(),r){case"off":return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose;default:return e.Off}}e.fromString=t;function n(r){switch(r){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}e.toString=n})(te=I.Trace||(I.Trace={}));var Me;(function(e){e.Text="text",e.JSON="json"})(Me=I.TraceFormat||(I.TraceFormat={}));(function(e){function t(n){return n=n.toLowerCase(),n==="json"?e.JSON:e.Text}e.fromString=t})(Me=I.TraceFormat||(I.TraceFormat={}));var Ts;(function(e){e.type=new L.NotificationType("$/setTrace")})(Ts=I.SetTraceNotification||(I.SetTraceNotification={}));var Oi;(function(e){e.type=new L.NotificationType("$/logTrace")})(Oi=I.LogTraceNotification||(I.LogTraceNotification={}));var Hn;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(Hn=I.ConnectionErrors||(I.ConnectionErrors={}));var rt=class extends Error{constructor(t,n){super(n),this.code=t,Object.setPrototypeOf(this,rt.prototype)}};I.ConnectionError=rt;var Cs;(function(e){function t(n){let r=n;return r&&ce.func(r.cancelUndispatched)}e.is=t})(Cs=I.ConnectionStrategy||(I.ConnectionStrategy={}));var Ni;(function(e){e.Message=Object.freeze({createCancellationTokenSource(n){return new Pi.CancellationTokenSource}});function t(n){let r=n;return r&&ce.func(r.createCancellationTokenSource)}e.is=t})(Ni=I.CancellationReceiverStrategy||(I.CancellationReceiverStrategy={}));var ji;(function(e){e.Message=Object.freeze({sendCancellation(n,r){n.sendNotification(cn.type,{id:r})},cleanup(n){}});function t(n){let r=n;return r&&ce.func(r.sendCancellation)&&ce.func(r.cleanup)}e.is=t})(ji=I.CancellationSenderStrategy||(I.CancellationSenderStrategy={}));var Mi;(function(e){e.Message=Object.freeze({receiver:Ni.Message,sender:ji.Message});function t(n){let r=n;return r&&Ni.is(r.receiver)&&ji.is(r.sender)}e.is=t})(Mi=I.CancellationStrategy||(I.CancellationStrategy={}));var Xu;(function(e){function t(n){let r=n;return r&&(Mi.is(r.cancellationStrategy)||Cs.is(r.connectionStrategy))}e.is=t})(Xu=I.ConnectionOptions||(I.ConnectionOptions={}));var Fe;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(Fe||(Fe={}));function Qu(e,t,n,r){let i=n!==void 0?n:I.NullLogger,a=0,c=0,m=0,h="2.0",b,R=Object.create(null),C,q=Object.create(null),S=new Map,P,j=new ks.LinkedMap,M=Object.create(null),y=Object.create(null),v=te.Off,k=Me.Text,O,A=Fe.New,oe=new an.Emitter,qe=new an.Emitter,ge=new an.Emitter,de=new an.Emitter,Se=new an.Emitter,je=r&&r.cancellationStrategy?r.cancellationStrategy:Mi.Message;function We(g){if(g===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+g.toString()}function He(g){return g===null?"res-unknown-"+(++m).toString():"res-"+g.toString()}function en(){return"not-"+(++c).toString()}function gt(g,f){L.isRequestMessage(f)?g.set(We(f.id),f):L.isResponseMessage(f)?g.set(He(f.id),f):g.set(en(),f)}function Dt(g){}function Ve(){return A===Fe.Listening}function Ot(){return A===Fe.Closed}function ye(){return A===Fe.Disposed}function et(){(A===Fe.New||A===Fe.Listening)&&(A=Fe.Closed,qe.fire(void 0))}function Nt(g){oe.fire([g,void 0,void 0])}function mt(g){oe.fire(g)}e.onClose(et),e.onError(Nt),t.onClose(et),t.onError(mt);function Pn(){P||j.size===0||(P=qs.default().timer.setImmediate(()=>{P=void 0,Tr()}))}function Tr(){if(j.size===0)return;let g=j.shift();try{L.isRequestMessage(g)?Sr(g):L.isNotificationMessage(g)?tn(g):L.isResponseMessage(g)?Pr(g):Er(g)}finally{Pn()}}let Cr=g=>{try{if(L.isNotificationMessage(g)&&g.method===cn.type.method){let f=We(g.params.id),s=j.get(f);if(L.isRequestMessage(s)){let d=r?.connectionStrategy,p=d&&d.cancelUndispatched?d.cancelUndispatched(s,Dt):void 0;if(p&&(p.error!==void 0||p.result!==void 0)){j.delete(f),p.id=s.id,jt(p,g.method,Date.now()),t.write(p);return}}}gt(j,g)}finally{Pn()}};function Sr(g){if(ye())return;function f(w,N,x){let $={jsonrpc:h,id:g.id};w instanceof L.ResponseError?$.error=w.toJson():$.result=w===void 0?null:w,jt($,N,x),t.write($)}function s(w,N,x){let $={jsonrpc:h,id:g.id,error:w.toJson()};jt($,N,x),t.write($)}function d(w,N,x){w===void 0&&(w=null);let $={jsonrpc:h,id:g.id,result:w};jt($,N,x),t.write($)}Nr(g);let p=R[g.method],u,o;p&&(u=p.type,o=p.handler);let _=Date.now();if(o||b){let w=String(g.id),N=je.receiver.createCancellationTokenSource(w);y[w]=N;try{let x;if(o)if(g.params===void 0){if(u!==void 0&&u.numberOfParams!==0){s(new L.ResponseError(L.ErrorCodes.InvalidParams,`Request ${g.method} defines ${u.numberOfParams} params but recevied none.`),g.method,_);return}x=o(N.token)}else if(Array.isArray(g.params)){if(u!==void 0&&u.parameterStructures===L.ParameterStructures.byName){s(new L.ResponseError(L.ErrorCodes.InvalidParams,`Request ${g.method} defines parameters by name but received parameters by position`),g.method,_);return}x=o(...g.params,N.token)}else{if(u!==void 0&&u.parameterStructures===L.ParameterStructures.byPosition){s(new L.ResponseError(L.ErrorCodes.InvalidParams,`Request ${g.method} defines parameters by position but received parameters by name`),g.method,_);return}x=o(g.params,N.token)}else b&&(x=b(g.method,g.params,N.token));let $=x;x?$.then?$.then(Y=>{delete y[w],f(Y,g.method,_)},Y=>{delete y[w],Y instanceof L.ResponseError?s(Y,g.method,_):Y&&ce.string(Y.message)?s(new L.ResponseError(L.ErrorCodes.InternalError,`Request ${g.method} failed with message: ${Y.message}`),g.method,_):s(new L.ResponseError(L.ErrorCodes.InternalError,`Request ${g.method} failed unexpectedly without providing any details.`),g.method,_)}):(delete y[w],f(x,g.method,_)):(delete y[w],d(x,g.method,_))}catch(x){delete y[w],x instanceof L.ResponseError?f(x,g.method,_):x&&ce.string(x.message)?s(new L.ResponseError(L.ErrorCodes.InternalError,`Request ${g.method} failed with message: ${x.message}`),g.method,_):s(new L.ResponseError(L.ErrorCodes.InternalError,`Request ${g.method} failed unexpectedly without providing any details.`),g.method,_)}}else s(new L.ResponseError(L.ErrorCodes.MethodNotFound,`Unhandled method ${g.method}`),g.method,_)}function Pr(g){if(!ye())if(g.id===null)g.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(g.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let f=String(g.id),s=M[f];if(Mr(g,s),s){delete M[f];try{if(g.error){let d=g.error;s.reject(new L.ResponseError(d.code,d.message,d.data))}else if(g.result!==void 0)s.resolve(g.result);else throw new Error("Should never happen.")}catch(d){d.message?i.error(`Response handler '${s.method}' failed with message: ${d.message}`):i.error(`Response handler '${s.method}' failed unexpectedly.`)}}}}function tn(g){if(ye())return;let f,s;if(g.method===cn.type.method)s=d=>{let p=d.id,u=y[String(p)];u&&u.cancel()};else{let d=q[g.method];d&&(s=d.handler,f=d.type)}if(s||C)try{jr(g),s?g.params===void 0?(f!==void 0&&f.numberOfParams!==0&&f.parameterStructures!==L.ParameterStructures.byName&&i.error(`Notification ${g.method} defines ${f.numberOfParams} params but recevied none.`),s()):Array.isArray(g.params)?(f!==void 0&&(f.parameterStructures===L.ParameterStructures.byName&&i.error(`Notification ${g.method} defines parameters by name but received parameters by position`),f.numberOfParams!==g.params.length&&i.error(`Notification ${g.method} defines ${f.numberOfParams} params but received ${g.params.length} argumennts`)),s(...g.params)):(f!==void 0&&f.parameterStructures===L.ParameterStructures.byPosition&&i.error(`Notification ${g.method} defines parameters by position but received parameters by name`),s(g.params)):C&&C(g.method,g.params)}catch(d){d.message?i.error(`Notification handler '${g.method}' failed with message: ${d.message}`):i.error(`Notification handler '${g.method}' failed unexpectedly.`)}else ge.fire(g)}function Er(g){if(!g){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(g,null,4)}`);let f=g;if(ce.string(f.id)||ce.number(f.id)){let s=String(f.id),d=M[s];d&&d.reject(new Error("The received response has neither a result nor an error property."))}}function Dr(g){if(!(v===te.Off||!O))if(k===Me.Text){let f;v===te.Verbose&&g.params&&(f=`Params: ${JSON.stringify(g.params,null,4)}

`),O.log(`Sending request '${g.method} - (${g.id})'.`,f)}else tt("send-request",g)}function Or(g){if(!(v===te.Off||!O))if(k===Me.Text){let f;v===te.Verbose&&(g.params?f=`Params: ${JSON.stringify(g.params,null,4)}

`:f=`No parameters provided.

`),O.log(`Sending notification '${g.method}'.`,f)}else tt("send-notification",g)}function jt(g,f,s){if(!(v===te.Off||!O))if(k===Me.Text){let d;v===te.Verbose&&(g.error&&g.error.data?d=`Error data: ${JSON.stringify(g.error.data,null,4)}

`:g.result?d=`Result: ${JSON.stringify(g.result,null,4)}

`:g.error===void 0&&(d=`No result returned.

`)),O.log(`Sending response '${f} - (${g.id})'. Processing request took ${Date.now()-s}ms`,d)}else tt("send-response",g)}function Nr(g){if(!(v===te.Off||!O))if(k===Me.Text){let f;v===te.Verbose&&g.params&&(f=`Params: ${JSON.stringify(g.params,null,4)}

`),O.log(`Received request '${g.method} - (${g.id})'.`,f)}else tt("receive-request",g)}function jr(g){if(!(v===te.Off||!O||g.method===Oi.type.method))if(k===Me.Text){let f;v===te.Verbose&&(g.params?f=`Params: ${JSON.stringify(g.params,null,4)}

`:f=`No parameters provided.

`),O.log(`Received notification '${g.method}'.`,f)}else tt("receive-notification",g)}function Mr(g,f){if(!(v===te.Off||!O))if(k===Me.Text){let s;if(v===te.Verbose&&(g.error&&g.error.data?s=`Error data: ${JSON.stringify(g.error.data,null,4)}

`:g.result?s=`Result: ${JSON.stringify(g.result,null,4)}

`:g.error===void 0&&(s=`No result returned.

`)),f){let d=g.error?` Request failed: ${g.error.message} (${g.error.code}).`:"";O.log(`Received response '${f.method} - (${g.id})' in ${Date.now()-f.timerStart}ms.${d}`,s)}else O.log(`Received response ${g.id} without active response promise.`,s)}else tt("receive-response",g)}function tt(g,f){if(!O||v===te.Off)return;let s={isLSPMessage:!0,type:g,message:f,timestamp:Date.now()};O.log(s)}function pt(){if(Ot())throw new rt(Hn.Closed,"Connection is closed.");if(ye())throw new rt(Hn.Disposed,"Connection is disposed.")}function Fr(){if(Ve())throw new rt(Hn.AlreadyListening,"Connection is already listening")}function xr(){if(!Ve())throw new Error("Call listen() first.")}function vt(g){return g===void 0?null:g}function En(g){if(g!==null)return g}function Dn(g){return g!=null&&!Array.isArray(g)&&typeof g=="object"}function nn(g,f){switch(g){case L.ParameterStructures.auto:return Dn(f)?En(f):[vt(f)];case L.ParameterStructures.byName:if(!Dn(f))throw new Error("Recevied parameters by name but param is not an object literal.");return En(f);case L.ParameterStructures.byPosition:return[vt(f)];default:throw new Error(`Unknown parameter structure ${g.toString()}`)}}function On(g,f){let s,d=g.numberOfParams;switch(d){case 0:s=void 0;break;case 1:s=nn(g.parameterStructures,f[0]);break;default:s=[];for(let p=0;p<f.length&&p<d;p++)s.push(vt(f[p]));if(f.length<d)for(let p=f.length;p<d;p++)s.push(null);break}return s}let nt={sendNotification:(g,...f)=>{pt();let s,d;if(ce.string(g)){s=g;let u=f[0],o=0,_=L.ParameterStructures.auto;L.ParameterStructures.is(u)&&(o=1,_=u);let w=f.length,N=w-o;switch(N){case 0:d=void 0;break;case 1:d=nn(_,f[o]);break;default:if(_===L.ParameterStructures.byName)throw new Error(`Recevied ${N} parameters for 'by Name' notification parameter structure.`);d=f.slice(o,w).map(x=>vt(x));break}}else{let u=f;s=g.method,d=On(g,u)}let p={jsonrpc:h,method:s,params:d};Or(p),t.write(p)},onNotification:(g,f)=>{pt();let s;return ce.func(g)?C=g:f&&(ce.string(g)?(s=g,q[g]={type:void 0,handler:f}):(s=g.method,q[g.method]={type:g,handler:f})),{dispose:()=>{s!==void 0?delete q[s]:C=void 0}}},onProgress:(g,f,s)=>{if(S.has(f))throw new Error(`Progress handler for token ${f} already registered`);return S.set(f,s),{dispose:()=>{S.delete(f)}}},sendProgress:(g,f,s)=>{nt.sendNotification($n.type,{token:f,value:s})},onUnhandledProgress:de.event,sendRequest:(g,...f)=>{pt(),xr();let s,d,p;if(ce.string(g)){s=g;let w=f[0],N=f[f.length-1],x=0,$=L.ParameterStructures.auto;L.ParameterStructures.is(w)&&(x=1,$=w);let Y=f.length;Pi.CancellationToken.is(N)&&(Y=Y-1,p=N);let re=Y-x;switch(re){case 0:d=void 0;break;case 1:d=nn($,f[x]);break;default:if($===L.ParameterStructures.byName)throw new Error(`Recevied ${re} parameters for 'by Name' request parameter structure.`);d=f.slice(x,Y).map(se=>vt(se));break}}else{let w=f;s=g.method,d=On(g,w);let N=g.numberOfParams;p=Pi.CancellationToken.is(w[N])?w[N]:void 0}let u=a++,o;return p&&(o=p.onCancellationRequested(()=>{je.sender.sendCancellation(nt,u)})),new Promise((w,N)=>{let x={jsonrpc:h,id:u,method:s,params:d},$=se=>{w(se),je.sender.cleanup(u),o?.dispose()},Y=se=>{N(se),je.sender.cleanup(u),o?.dispose()},re={method:s,timerStart:Date.now(),resolve:$,reject:Y};Dr(x);try{t.write(x)}catch(se){re.reject(new L.ResponseError(L.ErrorCodes.MessageWriteError,se.message?se.message:"Unknown reason")),re=null}re&&(M[String(u)]=re)})},onRequest:(g,f)=>{pt();let s=null;return Di.is(g)?(s=void 0,b=g):ce.string(g)?(s=null,f!==void 0&&(s=g,R[g]={handler:f,type:void 0})):f!==void 0&&(s=g.method,R[g.method]={type:g,handler:f}),{dispose:()=>{s!==null&&(s!==void 0?delete R[s]:b=void 0)}}},trace:(g,f,s)=>{let d=!1,p=Me.Text;s!==void 0&&(ce.boolean(s)?d=s:(d=s.sendNotification||!1,p=s.traceFormat||Me.Text)),v=g,k=p,v===te.Off?O=void 0:O=f,d&&!Ot()&&!ye()&&nt.sendNotification(Ts.type,{value:te.toString(g)})},onError:oe.event,onClose:qe.event,onUnhandledNotification:ge.event,onDispose:Se.event,end:()=>{t.end()},dispose:()=>{if(ye())return;A=Fe.Disposed,Se.fire(void 0);let g=new Error("Connection got disposed.");Object.keys(M).forEach(f=>{M[f].reject(g)}),M=Object.create(null),y=Object.create(null),j=new ks.LinkedMap,ce.func(t.dispose)&&t.dispose(),ce.func(e.dispose)&&e.dispose()},listen:()=>{pt(),Fr(),A=Fe.Listening,e.listen(Cr)},inspect:()=>{qs.default().console.log("inspect")}};return nt.onNotification(Oi.type,g=>{v===te.Off||!O||O.log(g.message,v===te.Verbose?g.verbose:void 0)}),nt.onNotification($n.type,g=>{let f=S.get(g.token);f?f(g.value):de.fire(g)}),nt}I.createMessageConnection=Qu});var Ai=D(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});T.CancellationSenderStrategy=T.CancellationReceiverStrategy=T.ConnectionError=T.ConnectionErrors=T.LogTraceNotification=T.SetTraceNotification=T.TraceFormat=T.Trace=T.ProgressType=T.createMessageConnection=T.NullLogger=T.ConnectionOptions=T.ConnectionStrategy=T.WriteableStreamMessageWriter=T.AbstractMessageWriter=T.MessageWriter=T.ReadableStreamMessageReader=T.AbstractMessageReader=T.MessageReader=T.CancellationToken=T.CancellationTokenSource=T.Emitter=T.Event=T.Disposable=T.ParameterStructures=T.NotificationType9=T.NotificationType8=T.NotificationType7=T.NotificationType6=T.NotificationType5=T.NotificationType4=T.NotificationType3=T.NotificationType2=T.NotificationType1=T.NotificationType0=T.NotificationType=T.ErrorCodes=T.ResponseError=T.RequestType9=T.RequestType8=T.RequestType7=T.RequestType6=T.RequestType5=T.RequestType4=T.RequestType3=T.RequestType2=T.RequestType1=T.RequestType0=T.RequestType=T.RAL=void 0;T.CancellationStrategy=void 0;var K=mi();Object.defineProperty(T,"RequestType",{enumerable:!0,get:function(){return K.RequestType}});Object.defineProperty(T,"RequestType0",{enumerable:!0,get:function(){return K.RequestType0}});Object.defineProperty(T,"RequestType1",{enumerable:!0,get:function(){return K.RequestType1}});Object.defineProperty(T,"RequestType2",{enumerable:!0,get:function(){return K.RequestType2}});Object.defineProperty(T,"RequestType3",{enumerable:!0,get:function(){return K.RequestType3}});Object.defineProperty(T,"RequestType4",{enumerable:!0,get:function(){return K.RequestType4}});Object.defineProperty(T,"RequestType5",{enumerable:!0,get:function(){return K.RequestType5}});Object.defineProperty(T,"RequestType6",{enumerable:!0,get:function(){return K.RequestType6}});Object.defineProperty(T,"RequestType7",{enumerable:!0,get:function(){return K.RequestType7}});Object.defineProperty(T,"RequestType8",{enumerable:!0,get:function(){return K.RequestType8}});Object.defineProperty(T,"RequestType9",{enumerable:!0,get:function(){return K.RequestType9}});Object.defineProperty(T,"ResponseError",{enumerable:!0,get:function(){return K.ResponseError}});Object.defineProperty(T,"ErrorCodes",{enumerable:!0,get:function(){return K.ErrorCodes}});Object.defineProperty(T,"NotificationType",{enumerable:!0,get:function(){return K.NotificationType}});Object.defineProperty(T,"NotificationType0",{enumerable:!0,get:function(){return K.NotificationType0}});Object.defineProperty(T,"NotificationType1",{enumerable:!0,get:function(){return K.NotificationType1}});Object.defineProperty(T,"NotificationType2",{enumerable:!0,get:function(){return K.NotificationType2}});Object.defineProperty(T,"NotificationType3",{enumerable:!0,get:function(){return K.NotificationType3}});Object.defineProperty(T,"NotificationType4",{enumerable:!0,get:function(){return K.NotificationType4}});Object.defineProperty(T,"NotificationType5",{enumerable:!0,get:function(){return K.NotificationType5}});Object.defineProperty(T,"NotificationType6",{enumerable:!0,get:function(){return K.NotificationType6}});Object.defineProperty(T,"NotificationType7",{enumerable:!0,get:function(){return K.NotificationType7}});Object.defineProperty(T,"NotificationType8",{enumerable:!0,get:function(){return K.NotificationType8}});Object.defineProperty(T,"NotificationType9",{enumerable:!0,get:function(){return K.NotificationType9}});Object.defineProperty(T,"ParameterStructures",{enumerable:!0,get:function(){return K.ParameterStructures}});var Yu=Hr();Object.defineProperty(T,"Disposable",{enumerable:!0,get:function(){return Yu.Disposable}});var Ps=Lt();Object.defineProperty(T,"Event",{enumerable:!0,get:function(){return Ps.Event}});Object.defineProperty(T,"Emitter",{enumerable:!0,get:function(){return Ps.Emitter}});var Es=bi();Object.defineProperty(T,"CancellationTokenSource",{enumerable:!0,get:function(){return Es.CancellationTokenSource}});Object.defineProperty(T,"CancellationToken",{enumerable:!0,get:function(){return Es.CancellationToken}});var Fi=ps();Object.defineProperty(T,"MessageReader",{enumerable:!0,get:function(){return Fi.MessageReader}});Object.defineProperty(T,"AbstractMessageReader",{enumerable:!0,get:function(){return Fi.AbstractMessageReader}});Object.defineProperty(T,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return Fi.ReadableStreamMessageReader}});var xi=Rs();Object.defineProperty(T,"MessageWriter",{enumerable:!0,get:function(){return xi.MessageWriter}});Object.defineProperty(T,"AbstractMessageWriter",{enumerable:!0,get:function(){return xi.AbstractMessageWriter}});Object.defineProperty(T,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return xi.WriteableStreamMessageWriter}});var _e=Ss();Object.defineProperty(T,"ConnectionStrategy",{enumerable:!0,get:function(){return _e.ConnectionStrategy}});Object.defineProperty(T,"ConnectionOptions",{enumerable:!0,get:function(){return _e.ConnectionOptions}});Object.defineProperty(T,"NullLogger",{enumerable:!0,get:function(){return _e.NullLogger}});Object.defineProperty(T,"createMessageConnection",{enumerable:!0,get:function(){return _e.createMessageConnection}});Object.defineProperty(T,"ProgressType",{enumerable:!0,get:function(){return _e.ProgressType}});Object.defineProperty(T,"Trace",{enumerable:!0,get:function(){return _e.Trace}});Object.defineProperty(T,"TraceFormat",{enumerable:!0,get:function(){return _e.TraceFormat}});Object.defineProperty(T,"SetTraceNotification",{enumerable:!0,get:function(){return _e.SetTraceNotification}});Object.defineProperty(T,"LogTraceNotification",{enumerable:!0,get:function(){return _e.LogTraceNotification}});Object.defineProperty(T,"ConnectionErrors",{enumerable:!0,get:function(){return _e.ConnectionErrors}});Object.defineProperty(T,"ConnectionError",{enumerable:!0,get:function(){return _e.ConnectionError}});Object.defineProperty(T,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return _e.CancellationReceiverStrategy}});Object.defineProperty(T,"CancellationSenderStrategy",{enumerable:!0,get:function(){return _e.CancellationSenderStrategy}});Object.defineProperty(T,"CancellationStrategy",{enumerable:!0,get:function(){return _e.CancellationStrategy}});var Zu=Je();T.RAL=Zu.default});var Ht=D(J=>{"use strict";var Ku=J&&J.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Vu=J&&J.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Ku(t,e,n)};Object.defineProperty(J,"__esModule",{value:!0});J.createMessageConnection=J.createServerSocketTransport=J.createClientSocketTransport=J.createServerPipeTransport=J.createClientPipeTransport=J.generateRandomPipeName=J.StreamMessageWriter=J.StreamMessageReader=J.SocketMessageWriter=J.SocketMessageReader=J.IPCMessageWriter=J.IPCMessageReader=void 0;var Wt=fs();Wt.default.install();var $e=Ai(),Ds=require("path"),el=require("os"),tl=require("crypto"),Gn=require("net");Vu(Ai(),J);var Li=class extends $e.AbstractMessageReader{constructor(t){super(),this.process=t;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose())}listen(t){return this.process.on("message",t),$e.Disposable.create(()=>this.process.off("message",t))}};J.IPCMessageReader=Li;var Ii=class extends $e.AbstractMessageWriter{constructor(t){super(),this.process=t,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose)}write(t){try{return typeof this.process.send=="function"&&this.process.send(t,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,t)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,t),Promise.reject(n)}}handleError(t,n){this.errorCount++,this.fireError(t,n,this.errorCount)}end(){}};J.IPCMessageWriter=Ii;var wt=class extends $e.ReadableStreamMessageReader{constructor(t,n="utf-8"){super(Wt.default().stream.asReadableStream(t),n)}};J.SocketMessageReader=wt;var qt=class extends $e.WriteableStreamMessageWriter{constructor(t,n){super(Wt.default().stream.asWritableStream(t),n),this.socket=t}dispose(){super.dispose(),this.socket.destroy()}};J.SocketMessageWriter=qt;var zn=class extends $e.ReadableStreamMessageReader{constructor(t,n){super(Wt.default().stream.asReadableStream(t),n)}};J.StreamMessageReader=zn;var Bn=class extends $e.WriteableStreamMessageWriter{constructor(t,n){super(Wt.default().stream.asWritableStream(t),n)}};J.StreamMessageWriter=Bn;var Os=process.env.XDG_RUNTIME_DIR,nl=new Map([["linux",107],["darwin",103]]);function rl(){let e=tl.randomBytes(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;Os?t=Ds.join(Os,`vscode-ipc-${e}.sock`):t=Ds.join(el.tmpdir(),`vscode-${e}.sock`);let n=nl.get(process.platform);return n!==void 0&&t.length>=n&&Wt.default().console.warn(`WARNING: IPC handle "${t}" is longer than ${n} characters.`),t}J.generateRandomPipeName=rl;function il(e,t="utf-8"){let n,r=new Promise((i,a)=>{n=i});return new Promise((i,a)=>{let c=Gn.createServer(m=>{c.close(),n([new wt(m,t),new qt(m,t)])});c.on("error",a),c.listen(e,()=>{c.removeListener("error",a),i({onConnected:()=>r})})})}J.createClientPipeTransport=il;function ol(e,t="utf-8"){let n=Gn.createConnection(e);return[new wt(n,t),new qt(n,t)]}J.createServerPipeTransport=ol;function sl(e,t="utf-8"){let n,r=new Promise((i,a)=>{n=i});return new Promise((i,a)=>{let c=Gn.createServer(m=>{c.close(),n([new wt(m,t),new qt(m,t)])});c.on("error",a),c.listen(e,"127.0.0.1",()=>{c.removeListener("error",a),i({onConnected:()=>r})})})}J.createClientSocketTransport=sl;function al(e,t="utf-8"){let n=Gn.createConnection(e,"127.0.0.1");return[new wt(n,t),new qt(n,t)]}J.createServerSocketTransport=al;function cl(e){let t=e;return t.read!==void 0&&t.addListener!==void 0}function ul(e){let t=e;return t.write!==void 0&&t.addListener!==void 0}function ll(e,t,n,r){n||(n=$e.NullLogger);let i=cl(e)?new zn(e):e,a=ul(t)?new Bn(t):t;return $e.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),$e.createMessageConnection(i,a,n,r)}J.createMessageConnection=ll});var Wi=D((lm,Ns)=>{"use strict";Ns.exports=Ht()});var Ms=D((js,Jn)=>{(function(e){if(typeof Jn=="object"&&typeof Jn.exports=="object"){var t=e(require,js);t!==void 0&&(Jn.exports=t)}else typeof define=="function"&&define.amd&&define(["require","exports"],e)})(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextDocument=t.EOL=t.SelectionRange=t.DocumentLink=t.FormattingOptions=t.CodeLens=t.CodeAction=t.CodeActionContext=t.CodeActionKind=t.DocumentSymbol=t.SymbolInformation=t.SymbolTag=t.SymbolKind=t.DocumentHighlight=t.DocumentHighlightKind=t.SignatureInformation=t.ParameterInformation=t.Hover=t.MarkedString=t.CompletionList=t.CompletionItem=t.InsertTextMode=t.InsertReplaceEdit=t.CompletionItemTag=t.InsertTextFormat=t.CompletionItemKind=t.MarkupContent=t.MarkupKind=t.TextDocumentItem=t.OptionalVersionedTextDocumentIdentifier=t.VersionedTextDocumentIdentifier=t.TextDocumentIdentifier=t.WorkspaceChange=t.WorkspaceEdit=t.DeleteFile=t.RenameFile=t.CreateFile=t.TextDocumentEdit=t.AnnotatedTextEdit=t.ChangeAnnotationIdentifier=t.ChangeAnnotation=t.TextEdit=t.Command=t.Diagnostic=t.CodeDescription=t.DiagnosticTag=t.DiagnosticSeverity=t.DiagnosticRelatedInformation=t.FoldingRange=t.FoldingRangeKind=t.ColorPresentation=t.ColorInformation=t.Color=t.LocationLink=t.Location=t.Range=t.Position=t.uinteger=t.integer=void 0;var n;(function(s){s.MIN_VALUE=-2147483648,s.MAX_VALUE=2147483647})(n=t.integer||(t.integer={}));var r;(function(s){s.MIN_VALUE=0,s.MAX_VALUE=2147483647})(r=t.uinteger||(t.uinteger={}));var i;(function(s){function d(u,o){return u===Number.MAX_VALUE&&(u=r.MAX_VALUE),o===Number.MAX_VALUE&&(o=r.MAX_VALUE),{line:u,character:o}}s.create=d;function p(u){var o=u;return f.objectLiteral(o)&&f.uinteger(o.line)&&f.uinteger(o.character)}s.is=p})(i=t.Position||(t.Position={}));var a;(function(s){function d(u,o,_,w){if(f.uinteger(u)&&f.uinteger(o)&&f.uinteger(_)&&f.uinteger(w))return{start:i.create(u,o),end:i.create(_,w)};if(i.is(u)&&i.is(o))return{start:u,end:o};throw new Error("Range#create called with invalid arguments["+u+", "+o+", "+_+", "+w+"]")}s.create=d;function p(u){var o=u;return f.objectLiteral(o)&&i.is(o.start)&&i.is(o.end)}s.is=p})(a=t.Range||(t.Range={}));var c;(function(s){function d(u,o){return{uri:u,range:o}}s.create=d;function p(u){var o=u;return f.defined(o)&&a.is(o.range)&&(f.string(o.uri)||f.undefined(o.uri))}s.is=p})(c=t.Location||(t.Location={}));var m;(function(s){function d(u,o,_,w){return{targetUri:u,targetRange:o,targetSelectionRange:_,originSelectionRange:w}}s.create=d;function p(u){var o=u;return f.defined(o)&&a.is(o.targetRange)&&f.string(o.targetUri)&&(a.is(o.targetSelectionRange)||f.undefined(o.targetSelectionRange))&&(a.is(o.originSelectionRange)||f.undefined(o.originSelectionRange))}s.is=p})(m=t.LocationLink||(t.LocationLink={}));var h;(function(s){function d(u,o,_,w){return{red:u,green:o,blue:_,alpha:w}}s.create=d;function p(u){var o=u;return f.numberRange(o.red,0,1)&&f.numberRange(o.green,0,1)&&f.numberRange(o.blue,0,1)&&f.numberRange(o.alpha,0,1)}s.is=p})(h=t.Color||(t.Color={}));var b;(function(s){function d(u,o){return{range:u,color:o}}s.create=d;function p(u){var o=u;return a.is(o.range)&&h.is(o.color)}s.is=p})(b=t.ColorInformation||(t.ColorInformation={}));var R;(function(s){function d(u,o,_){return{label:u,textEdit:o,additionalTextEdits:_}}s.create=d;function p(u){var o=u;return f.string(o.label)&&(f.undefined(o.textEdit)||k.is(o))&&(f.undefined(o.additionalTextEdits)||f.typedArray(o.additionalTextEdits,k.is))}s.is=p})(R=t.ColorPresentation||(t.ColorPresentation={}));var C;(function(s){s.Comment="comment",s.Imports="imports",s.Region="region"})(C=t.FoldingRangeKind||(t.FoldingRangeKind={}));var q;(function(s){function d(u,o,_,w,N){var x={startLine:u,endLine:o};return f.defined(_)&&(x.startCharacter=_),f.defined(w)&&(x.endCharacter=w),f.defined(N)&&(x.kind=N),x}s.create=d;function p(u){var o=u;return f.uinteger(o.startLine)&&f.uinteger(o.startLine)&&(f.undefined(o.startCharacter)||f.uinteger(o.startCharacter))&&(f.undefined(o.endCharacter)||f.uinteger(o.endCharacter))&&(f.undefined(o.kind)||f.string(o.kind))}s.is=p})(q=t.FoldingRange||(t.FoldingRange={}));var S;(function(s){function d(u,o){return{location:u,message:o}}s.create=d;function p(u){var o=u;return f.defined(o)&&c.is(o.location)&&f.string(o.message)}s.is=p})(S=t.DiagnosticRelatedInformation||(t.DiagnosticRelatedInformation={}));var P;(function(s){s.Error=1,s.Warning=2,s.Information=3,s.Hint=4})(P=t.DiagnosticSeverity||(t.DiagnosticSeverity={}));var j;(function(s){s.Unnecessary=1,s.Deprecated=2})(j=t.DiagnosticTag||(t.DiagnosticTag={}));var M;(function(s){function d(p){var u=p;return u!=null&&f.string(u.href)}s.is=d})(M=t.CodeDescription||(t.CodeDescription={}));var y;(function(s){function d(u,o,_,w,N,x){var $={range:u,message:o};return f.defined(_)&&($.severity=_),f.defined(w)&&($.code=w),f.defined(N)&&($.source=N),f.defined(x)&&($.relatedInformation=x),$}s.create=d;function p(u){var o,_=u;return f.defined(_)&&a.is(_.range)&&f.string(_.message)&&(f.number(_.severity)||f.undefined(_.severity))&&(f.integer(_.code)||f.string(_.code)||f.undefined(_.code))&&(f.undefined(_.codeDescription)||f.string((o=_.codeDescription)===null||o===void 0?void 0:o.href))&&(f.string(_.source)||f.undefined(_.source))&&(f.undefined(_.relatedInformation)||f.typedArray(_.relatedInformation,S.is))}s.is=p})(y=t.Diagnostic||(t.Diagnostic={}));var v;(function(s){function d(u,o){for(var _=[],w=2;w<arguments.length;w++)_[w-2]=arguments[w];var N={title:u,command:o};return f.defined(_)&&_.length>0&&(N.arguments=_),N}s.create=d;function p(u){var o=u;return f.defined(o)&&f.string(o.title)&&f.string(o.command)}s.is=p})(v=t.Command||(t.Command={}));var k;(function(s){function d(_,w){return{range:_,newText:w}}s.replace=d;function p(_,w){return{range:{start:_,end:_},newText:w}}s.insert=p;function u(_){return{range:_,newText:""}}s.del=u;function o(_){var w=_;return f.objectLiteral(w)&&f.string(w.newText)&&a.is(w.range)}s.is=o})(k=t.TextEdit||(t.TextEdit={}));var O;(function(s){function d(u,o,_){var w={label:u};return o!==void 0&&(w.needsConfirmation=o),_!==void 0&&(w.description=_),w}s.create=d;function p(u){var o=u;return o!==void 0&&f.objectLiteral(o)&&f.string(o.label)&&(f.boolean(o.needsConfirmation)||o.needsConfirmation===void 0)&&(f.string(o.description)||o.description===void 0)}s.is=p})(O=t.ChangeAnnotation||(t.ChangeAnnotation={}));var A;(function(s){function d(p){var u=p;return typeof u=="string"}s.is=d})(A=t.ChangeAnnotationIdentifier||(t.ChangeAnnotationIdentifier={}));var oe;(function(s){function d(_,w,N){return{range:_,newText:w,annotationId:N}}s.replace=d;function p(_,w,N){return{range:{start:_,end:_},newText:w,annotationId:N}}s.insert=p;function u(_,w){return{range:_,newText:"",annotationId:w}}s.del=u;function o(_){var w=_;return k.is(w)&&(O.is(w.annotationId)||A.is(w.annotationId))}s.is=o})(oe=t.AnnotatedTextEdit||(t.AnnotatedTextEdit={}));var qe;(function(s){function d(u,o){return{textDocument:u,edits:o}}s.create=d;function p(u){var o=u;return f.defined(o)&&Ve.is(o.textDocument)&&Array.isArray(o.edits)}s.is=p})(qe=t.TextDocumentEdit||(t.TextDocumentEdit={}));var ge;(function(s){function d(u,o,_){var w={kind:"create",uri:u};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(w.options=o),_!==void 0&&(w.annotationId=_),w}s.create=d;function p(u){var o=u;return o&&o.kind==="create"&&f.string(o.uri)&&(o.options===void 0||(o.options.overwrite===void 0||f.boolean(o.options.overwrite))&&(o.options.ignoreIfExists===void 0||f.boolean(o.options.ignoreIfExists)))&&(o.annotationId===void 0||A.is(o.annotationId))}s.is=p})(ge=t.CreateFile||(t.CreateFile={}));var de;(function(s){function d(u,o,_,w){var N={kind:"rename",oldUri:u,newUri:o};return _!==void 0&&(_.overwrite!==void 0||_.ignoreIfExists!==void 0)&&(N.options=_),w!==void 0&&(N.annotationId=w),N}s.create=d;function p(u){var o=u;return o&&o.kind==="rename"&&f.string(o.oldUri)&&f.string(o.newUri)&&(o.options===void 0||(o.options.overwrite===void 0||f.boolean(o.options.overwrite))&&(o.options.ignoreIfExists===void 0||f.boolean(o.options.ignoreIfExists)))&&(o.annotationId===void 0||A.is(o.annotationId))}s.is=p})(de=t.RenameFile||(t.RenameFile={}));var Se;(function(s){function d(u,o,_){var w={kind:"delete",uri:u};return o!==void 0&&(o.recursive!==void 0||o.ignoreIfNotExists!==void 0)&&(w.options=o),_!==void 0&&(w.annotationId=_),w}s.create=d;function p(u){var o=u;return o&&o.kind==="delete"&&f.string(o.uri)&&(o.options===void 0||(o.options.recursive===void 0||f.boolean(o.options.recursive))&&(o.options.ignoreIfNotExists===void 0||f.boolean(o.options.ignoreIfNotExists)))&&(o.annotationId===void 0||A.is(o.annotationId))}s.is=p})(Se=t.DeleteFile||(t.DeleteFile={}));var je;(function(s){function d(p){var u=p;return u&&(u.changes!==void 0||u.documentChanges!==void 0)&&(u.documentChanges===void 0||u.documentChanges.every(function(o){return f.string(o.kind)?ge.is(o)||de.is(o)||Se.is(o):qe.is(o)}))}s.is=d})(je=t.WorkspaceEdit||(t.WorkspaceEdit={}));var We=function(){function s(d,p){this.edits=d,this.changeAnnotations=p}return s.prototype.insert=function(d,p,u){var o,_;if(u===void 0?o=k.insert(d,p):A.is(u)?(_=u,o=oe.insert(d,p,u)):(this.assertChangeAnnotations(this.changeAnnotations),_=this.changeAnnotations.manage(u),o=oe.insert(d,p,_)),this.edits.push(o),_!==void 0)return _},s.prototype.replace=function(d,p,u){var o,_;if(u===void 0?o=k.replace(d,p):A.is(u)?(_=u,o=oe.replace(d,p,u)):(this.assertChangeAnnotations(this.changeAnnotations),_=this.changeAnnotations.manage(u),o=oe.replace(d,p,_)),this.edits.push(o),_!==void 0)return _},s.prototype.delete=function(d,p){var u,o;if(p===void 0?u=k.del(d):A.is(p)?(o=p,u=oe.del(d,p)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(p),u=oe.del(d,o)),this.edits.push(u),o!==void 0)return o},s.prototype.add=function(d){this.edits.push(d)},s.prototype.all=function(){return this.edits},s.prototype.clear=function(){this.edits.splice(0,this.edits.length)},s.prototype.assertChangeAnnotations=function(d){if(d===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},s}(),He=function(){function s(d){this._annotations=d===void 0?Object.create(null):d,this._counter=0,this._size=0}return s.prototype.all=function(){return this._annotations},Object.defineProperty(s.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),s.prototype.manage=function(d,p){var u;if(A.is(d)?u=d:(u=this.nextId(),p=d),this._annotations[u]!==void 0)throw new Error("Id "+u+" is already in use.");if(p===void 0)throw new Error("No annotation provided for id "+u);return this._annotations[u]=p,this._size++,u},s.prototype.nextId=function(){return this._counter++,this._counter.toString()},s}(),en=function(){function s(d){var p=this;this._textEditChanges=Object.create(null),d!==void 0?(this._workspaceEdit=d,d.documentChanges?(this._changeAnnotations=new He(d.changeAnnotations),d.changeAnnotations=this._changeAnnotations.all(),d.documentChanges.forEach(function(u){if(qe.is(u)){var o=new We(u.edits,p._changeAnnotations);p._textEditChanges[u.textDocument.uri]=o}})):d.changes&&Object.keys(d.changes).forEach(function(u){var o=new We(d.changes[u]);p._textEditChanges[u]=o})):this._workspaceEdit={}}return Object.defineProperty(s.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),s.prototype.getTextEditChange=function(d){if(Ve.is(d)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var p={uri:d.uri,version:d.version},u=this._textEditChanges[p.uri];if(!u){var o=[],_={textDocument:p,edits:o};this._workspaceEdit.documentChanges.push(_),u=new We(o,this._changeAnnotations),this._textEditChanges[p.uri]=u}return u}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var u=this._textEditChanges[d];if(!u){var o=[];this._workspaceEdit.changes[d]=o,u=new We(o),this._textEditChanges[d]=u}return u}},s.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new He,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},s.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},s.prototype.createFile=function(d,p,u){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var o;O.is(p)||A.is(p)?o=p:u=p;var _,w;if(o===void 0?_=ge.create(d,u):(w=A.is(o)?o:this._changeAnnotations.manage(o),_=ge.create(d,u,w)),this._workspaceEdit.documentChanges.push(_),w!==void 0)return w},s.prototype.renameFile=function(d,p,u,o){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var _;O.is(u)||A.is(u)?_=u:o=u;var w,N;if(_===void 0?w=de.create(d,p,o):(N=A.is(_)?_:this._changeAnnotations.manage(_),w=de.create(d,p,o,N)),this._workspaceEdit.documentChanges.push(w),N!==void 0)return N},s.prototype.deleteFile=function(d,p,u){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var o;O.is(p)||A.is(p)?o=p:u=p;var _,w;if(o===void 0?_=Se.create(d,u):(w=A.is(o)?o:this._changeAnnotations.manage(o),_=Se.create(d,u,w)),this._workspaceEdit.documentChanges.push(_),w!==void 0)return w},s}();t.WorkspaceChange=en;var gt;(function(s){function d(u){return{uri:u}}s.create=d;function p(u){var o=u;return f.defined(o)&&f.string(o.uri)}s.is=p})(gt=t.TextDocumentIdentifier||(t.TextDocumentIdentifier={}));var Dt;(function(s){function d(u,o){return{uri:u,version:o}}s.create=d;function p(u){var o=u;return f.defined(o)&&f.string(o.uri)&&f.integer(o.version)}s.is=p})(Dt=t.VersionedTextDocumentIdentifier||(t.VersionedTextDocumentIdentifier={}));var Ve;(function(s){function d(u,o){return{uri:u,version:o}}s.create=d;function p(u){var o=u;return f.defined(o)&&f.string(o.uri)&&(o.version===null||f.integer(o.version))}s.is=p})(Ve=t.OptionalVersionedTextDocumentIdentifier||(t.OptionalVersionedTextDocumentIdentifier={}));var Ot;(function(s){function d(u,o,_,w){return{uri:u,languageId:o,version:_,text:w}}s.create=d;function p(u){var o=u;return f.defined(o)&&f.string(o.uri)&&f.string(o.languageId)&&f.integer(o.version)&&f.string(o.text)}s.is=p})(Ot=t.TextDocumentItem||(t.TextDocumentItem={}));var ye;(function(s){s.PlainText="plaintext",s.Markdown="markdown"})(ye=t.MarkupKind||(t.MarkupKind={})),function(s){function d(p){var u=p;return u===s.PlainText||u===s.Markdown}s.is=d}(ye=t.MarkupKind||(t.MarkupKind={}));var et;(function(s){function d(p){var u=p;return f.objectLiteral(p)&&ye.is(u.kind)&&f.string(u.value)}s.is=d})(et=t.MarkupContent||(t.MarkupContent={}));var Nt;(function(s){s.Text=1,s.Method=2,s.Function=3,s.Constructor=4,s.Field=5,s.Variable=6,s.Class=7,s.Interface=8,s.Module=9,s.Property=10,s.Unit=11,s.Value=12,s.Enum=13,s.Keyword=14,s.Snippet=15,s.Color=16,s.File=17,s.Reference=18,s.Folder=19,s.EnumMember=20,s.Constant=21,s.Struct=22,s.Event=23,s.Operator=24,s.TypeParameter=25})(Nt=t.CompletionItemKind||(t.CompletionItemKind={}));var mt;(function(s){s.PlainText=1,s.Snippet=2})(mt=t.InsertTextFormat||(t.InsertTextFormat={}));var Pn;(function(s){s.Deprecated=1})(Pn=t.CompletionItemTag||(t.CompletionItemTag={}));var Tr;(function(s){function d(u,o,_){return{newText:u,insert:o,replace:_}}s.create=d;function p(u){var o=u;return o&&f.string(o.newText)&&a.is(o.insert)&&a.is(o.replace)}s.is=p})(Tr=t.InsertReplaceEdit||(t.InsertReplaceEdit={}));var Cr;(function(s){s.asIs=1,s.adjustIndentation=2})(Cr=t.InsertTextMode||(t.InsertTextMode={}));var Sr;(function(s){function d(p){return{label:p}}s.create=d})(Sr=t.CompletionItem||(t.CompletionItem={}));var Pr;(function(s){function d(p,u){return{items:p||[],isIncomplete:!!u}}s.create=d})(Pr=t.CompletionList||(t.CompletionList={}));var tn;(function(s){function d(u){return u.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}s.fromPlainText=d;function p(u){var o=u;return f.string(o)||f.objectLiteral(o)&&f.string(o.language)&&f.string(o.value)}s.is=p})(tn=t.MarkedString||(t.MarkedString={}));var Er;(function(s){function d(p){var u=p;return!!u&&f.objectLiteral(u)&&(et.is(u.contents)||tn.is(u.contents)||f.typedArray(u.contents,tn.is))&&(p.range===void 0||a.is(p.range))}s.is=d})(Er=t.Hover||(t.Hover={}));var Dr;(function(s){function d(p,u){return u?{label:p,documentation:u}:{label:p}}s.create=d})(Dr=t.ParameterInformation||(t.ParameterInformation={}));var Or;(function(s){function d(p,u){for(var o=[],_=2;_<arguments.length;_++)o[_-2]=arguments[_];var w={label:p};return f.defined(u)&&(w.documentation=u),f.defined(o)?w.parameters=o:w.parameters=[],w}s.create=d})(Or=t.SignatureInformation||(t.SignatureInformation={}));var jt;(function(s){s.Text=1,s.Read=2,s.Write=3})(jt=t.DocumentHighlightKind||(t.DocumentHighlightKind={}));var Nr;(function(s){function d(p,u){var o={range:p};return f.number(u)&&(o.kind=u),o}s.create=d})(Nr=t.DocumentHighlight||(t.DocumentHighlight={}));var jr;(function(s){s.File=1,s.Module=2,s.Namespace=3,s.Package=4,s.Class=5,s.Method=6,s.Property=7,s.Field=8,s.Constructor=9,s.Enum=10,s.Interface=11,s.Function=12,s.Variable=13,s.Constant=14,s.String=15,s.Number=16,s.Boolean=17,s.Array=18,s.Object=19,s.Key=20,s.Null=21,s.EnumMember=22,s.Struct=23,s.Event=24,s.Operator=25,s.TypeParameter=26})(jr=t.SymbolKind||(t.SymbolKind={}));var Mr;(function(s){s.Deprecated=1})(Mr=t.SymbolTag||(t.SymbolTag={}));var tt;(function(s){function d(p,u,o,_,w){var N={name:p,kind:u,location:{uri:_,range:o}};return w&&(N.containerName=w),N}s.create=d})(tt=t.SymbolInformation||(t.SymbolInformation={}));var pt;(function(s){function d(u,o,_,w,N,x){var $={name:u,detail:o,kind:_,range:w,selectionRange:N};return x!==void 0&&($.children=x),$}s.create=d;function p(u){var o=u;return o&&f.string(o.name)&&f.number(o.kind)&&a.is(o.range)&&a.is(o.selectionRange)&&(o.detail===void 0||f.string(o.detail))&&(o.deprecated===void 0||f.boolean(o.deprecated))&&(o.children===void 0||Array.isArray(o.children))&&(o.tags===void 0||Array.isArray(o.tags))}s.is=p})(pt=t.DocumentSymbol||(t.DocumentSymbol={}));var Fr;(function(s){s.Empty="",s.QuickFix="quickfix",s.Refactor="refactor",s.RefactorExtract="refactor.extract",s.RefactorInline="refactor.inline",s.RefactorRewrite="refactor.rewrite",s.Source="source",s.SourceOrganizeImports="source.organizeImports",s.SourceFixAll="source.fixAll"})(Fr=t.CodeActionKind||(t.CodeActionKind={}));var xr;(function(s){function d(u,o){var _={diagnostics:u};return o!=null&&(_.only=o),_}s.create=d;function p(u){var o=u;return f.defined(o)&&f.typedArray(o.diagnostics,y.is)&&(o.only===void 0||f.typedArray(o.only,f.string))}s.is=p})(xr=t.CodeActionContext||(t.CodeActionContext={}));var vt;(function(s){function d(u,o,_){var w={title:u},N=!0;return typeof o=="string"?(N=!1,w.kind=o):v.is(o)?w.command=o:w.edit=o,N&&_!==void 0&&(w.kind=_),w}s.create=d;function p(u){var o=u;return o&&f.string(o.title)&&(o.diagnostics===void 0||f.typedArray(o.diagnostics,y.is))&&(o.kind===void 0||f.string(o.kind))&&(o.edit!==void 0||o.command!==void 0)&&(o.command===void 0||v.is(o.command))&&(o.isPreferred===void 0||f.boolean(o.isPreferred))&&(o.edit===void 0||je.is(o.edit))}s.is=p})(vt=t.CodeAction||(t.CodeAction={}));var En;(function(s){function d(u,o){var _={range:u};return f.defined(o)&&(_.data=o),_}s.create=d;function p(u){var o=u;return f.defined(o)&&a.is(o.range)&&(f.undefined(o.command)||v.is(o.command))}s.is=p})(En=t.CodeLens||(t.CodeLens={}));var Dn;(function(s){function d(u,o){return{tabSize:u,insertSpaces:o}}s.create=d;function p(u){var o=u;return f.defined(o)&&f.uinteger(o.tabSize)&&f.boolean(o.insertSpaces)}s.is=p})(Dn=t.FormattingOptions||(t.FormattingOptions={}));var nn;(function(s){function d(u,o,_){return{range:u,target:o,data:_}}s.create=d;function p(u){var o=u;return f.defined(o)&&a.is(o.range)&&(f.undefined(o.target)||f.string(o.target))}s.is=p})(nn=t.DocumentLink||(t.DocumentLink={}));var On;(function(s){function d(u,o){return{range:u,parent:o}}s.create=d;function p(u){var o=u;return o!==void 0&&a.is(o.range)&&(o.parent===void 0||s.is(o.parent))}s.is=p})(On=t.SelectionRange||(t.SelectionRange={})),t.EOL=[`
`,`\r
`,"\r"];var nt;(function(s){function d(_,w,N,x){return new g(_,w,N,x)}s.create=d;function p(_){var w=_;return!!(f.defined(w)&&f.string(w.uri)&&(f.undefined(w.languageId)||f.string(w.languageId))&&f.uinteger(w.lineCount)&&f.func(w.getText)&&f.func(w.positionAt)&&f.func(w.offsetAt))}s.is=p;function u(_,w){for(var N=_.getText(),x=o(w,function(Mt,Nn){var rs=Mt.range.start.line-Nn.range.start.line;return rs===0?Mt.range.start.character-Nn.range.start.character:rs}),$=N.length,Y=x.length-1;Y>=0;Y--){var re=x[Y],se=_.offsetAt(re.range.start),B=_.offsetAt(re.range.end);if(B<=$)N=N.substring(0,se)+re.newText+N.substring(B,N.length);else throw new Error("Overlapping edit");$=se}return N}s.applyEdits=u;function o(_,w){if(_.length<=1)return _;var N=_.length/2|0,x=_.slice(0,N),$=_.slice(N);o(x,w),o($,w);for(var Y=0,re=0,se=0;Y<x.length&&re<$.length;){var B=w(x[Y],$[re]);B<=0?_[se++]=x[Y++]:_[se++]=$[re++]}for(;Y<x.length;)_[se++]=x[Y++];for(;re<$.length;)_[se++]=$[re++];return _}})(nt=t.TextDocument||(t.TextDocument={}));var g=function(){function s(d,p,u,o){this._uri=d,this._languageId=p,this._version=u,this._content=o,this._lineOffsets=void 0}return Object.defineProperty(s.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),s.prototype.getText=function(d){if(d){var p=this.offsetAt(d.start),u=this.offsetAt(d.end);return this._content.substring(p,u)}return this._content},s.prototype.update=function(d,p){this._content=d.text,this._version=p,this._lineOffsets=void 0},s.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var d=[],p=this._content,u=!0,o=0;o<p.length;o++){u&&(d.push(o),u=!1);var _=p.charAt(o);u=_==="\r"||_===`
`,_==="\r"&&o+1<p.length&&p.charAt(o+1)===`
`&&o++}u&&p.length>0&&d.push(p.length),this._lineOffsets=d}return this._lineOffsets},s.prototype.positionAt=function(d){d=Math.max(Math.min(d,this._content.length),0);var p=this.getLineOffsets(),u=0,o=p.length;if(o===0)return i.create(0,d);for(;u<o;){var _=Math.floor((u+o)/2);p[_]>d?o=_:u=_+1}var w=u-1;return i.create(w,d-p[w])},s.prototype.offsetAt=function(d){var p=this.getLineOffsets();if(d.line>=p.length)return this._content.length;if(d.line<0)return 0;var u=p[d.line],o=d.line+1<p.length?p[d.line+1]:this._content.length;return Math.max(Math.min(u+d.character,o),u)},Object.defineProperty(s.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),s}(),f;(function(s){var d=Object.prototype.toString;function p(B){return typeof B<"u"}s.defined=p;function u(B){return typeof B>"u"}s.undefined=u;function o(B){return B===!0||B===!1}s.boolean=o;function _(B){return d.call(B)==="[object String]"}s.string=_;function w(B){return d.call(B)==="[object Number]"}s.number=w;function N(B,Mt,Nn){return d.call(B)==="[object Number]"&&Mt<=B&&B<=Nn}s.numberRange=N;function x(B){return d.call(B)==="[object Number]"&&-2147483648<=B&&B<=2147483647}s.integer=x;function $(B){return d.call(B)==="[object Number]"&&0<=B&&B<=2147483647}s.uinteger=$;function Y(B){return d.call(B)==="[object Function]"}s.func=Y;function re(B){return B!==null&&typeof B=="object"}s.objectLiteral=re;function se(B,Mt){return Array.isArray(B)&&B.every(Mt)}s.typedArray=se})(f||(f={}))})});var ue=D(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.ProtocolNotificationType=Pe.ProtocolNotificationType0=Pe.ProtocolRequestType=Pe.ProtocolRequestType0=Pe.RegistrationType=void 0;var $t=Ht(),Hi=class{constructor(t){this.method=t}};Pe.RegistrationType=Hi;var $i=class extends $t.RequestType0{constructor(t){super(t)}};Pe.ProtocolRequestType0=$i;var zi=class extends $t.RequestType{constructor(t){super(t,$t.ParameterStructures.byName)}};Pe.ProtocolRequestType=zi;var Bi=class extends $t.NotificationType0{constructor(t){super(t)}};Pe.ProtocolNotificationType0=Bi;var Gi=class extends $t.NotificationType{constructor(t){super(t,$t.ParameterStructures.byName)}};Pe.ProtocolNotificationType=Gi});var As=D(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.objectLiteral=ne.typedArray=ne.stringArray=ne.array=ne.func=ne.error=ne.number=ne.string=ne.boolean=void 0;function fl(e){return e===!0||e===!1}ne.boolean=fl;function Fs(e){return typeof e=="string"||e instanceof String}ne.string=Fs;function dl(e){return typeof e=="number"||e instanceof Number}ne.number=dl;function hl(e){return e instanceof Error}ne.error=hl;function gl(e){return typeof e=="function"}ne.func=gl;function xs(e){return Array.isArray(e)}ne.array=xs;function ml(e){return xs(e)&&e.every(t=>Fs(t))}ne.stringArray=ml;function pl(e,t){return Array.isArray(e)&&e.every(t)}ne.typedArray=pl;function vl(e){return e!==null&&typeof e=="object"}ne.objectLiteral=vl});var Ls=D(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});un.ImplementationRequest=void 0;var yl=ue(),_l;(function(e){e.method="textDocument/implementation",e.type=new yl.ProtocolRequestType(e.method)})(_l=un.ImplementationRequest||(un.ImplementationRequest={}))});var Is=D(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});ln.TypeDefinitionRequest=void 0;var bl=ue(),Rl;(function(e){e.method="textDocument/typeDefinition",e.type=new bl.ProtocolRequestType(e.method)})(Rl=ln.TypeDefinitionRequest||(ln.TypeDefinitionRequest={}))});var Hs=D(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.DidChangeWorkspaceFoldersNotification=it.WorkspaceFoldersRequest=void 0;var Ws=ue(),wl;(function(e){e.type=new Ws.ProtocolRequestType0("workspace/workspaceFolders")})(wl=it.WorkspaceFoldersRequest||(it.WorkspaceFoldersRequest={}));var ql;(function(e){e.type=new Ws.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(ql=it.DidChangeWorkspaceFoldersNotification||(it.DidChangeWorkspaceFoldersNotification={}))});var $s=D(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.ConfigurationRequest=void 0;var kl=ue(),Tl;(function(e){e.type=new kl.ProtocolRequestType("workspace/configuration")})(Tl=fn.ConfigurationRequest||(fn.ConfigurationRequest={}))});var Bs=D(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.ColorPresentationRequest=ot.DocumentColorRequest=void 0;var zs=ue(),Cl;(function(e){e.method="textDocument/documentColor",e.type=new zs.ProtocolRequestType(e.method)})(Cl=ot.DocumentColorRequest||(ot.DocumentColorRequest={}));var Sl;(function(e){e.type=new zs.ProtocolRequestType("textDocument/colorPresentation")})(Sl=ot.ColorPresentationRequest||(ot.ColorPresentationRequest={}))});var Gs=D(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.FoldingRangeRequest=st.FoldingRangeKind=void 0;var Pl=ue(),El;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(El=st.FoldingRangeKind||(st.FoldingRangeKind={}));var Dl;(function(e){e.method="textDocument/foldingRange",e.type=new Pl.ProtocolRequestType(e.method)})(Dl=st.FoldingRangeRequest||(st.FoldingRangeRequest={}))});var Js=D(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.DeclarationRequest=void 0;var Ol=ue(),Nl;(function(e){e.method="textDocument/declaration",e.type=new Ol.ProtocolRequestType(e.method)})(Nl=dn.DeclarationRequest||(dn.DeclarationRequest={}))});var Us=D(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.SelectionRangeRequest=void 0;var jl=ue(),Ml;(function(e){e.method="textDocument/selectionRange",e.type=new jl.ProtocolRequestType(e.method)})(Ml=hn.SelectionRangeRequest||(hn.SelectionRangeRequest={}))});var Qs=D(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.WorkDoneProgressCancelNotification=xe.WorkDoneProgressCreateRequest=xe.WorkDoneProgress=void 0;var Fl=Ht(),Xs=ue(),xl;(function(e){e.type=new Fl.ProgressType;function t(n){return n===e.type}e.is=t})(xl=xe.WorkDoneProgress||(xe.WorkDoneProgress={}));var Al;(function(e){e.type=new Xs.ProtocolRequestType("window/workDoneProgress/create")})(Al=xe.WorkDoneProgressCreateRequest||(xe.WorkDoneProgressCreateRequest={}));var Ll;(function(e){e.type=new Xs.ProtocolNotificationType("window/workDoneProgress/cancel")})(Ll=xe.WorkDoneProgressCancelNotification||(xe.WorkDoneProgressCancelNotification={}))});var Ys=D(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.CallHierarchyOutgoingCallsRequest=Ae.CallHierarchyIncomingCallsRequest=Ae.CallHierarchyPrepareRequest=void 0;var Ji=ue(),Il;(function(e){e.method="textDocument/prepareCallHierarchy",e.type=new Ji.ProtocolRequestType(e.method)})(Il=Ae.CallHierarchyPrepareRequest||(Ae.CallHierarchyPrepareRequest={}));var Wl;(function(e){e.method="callHierarchy/incomingCalls",e.type=new Ji.ProtocolRequestType(e.method)})(Wl=Ae.CallHierarchyIncomingCallsRequest||(Ae.CallHierarchyIncomingCallsRequest={}));var Hl;(function(e){e.method="callHierarchy/outgoingCalls",e.type=new Ji.ProtocolRequestType(e.method)})(Hl=Ae.CallHierarchyOutgoingCallsRequest||(Ae.CallHierarchyOutgoingCallsRequest={}))});var Zs=D(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.SemanticTokensRefreshRequest=X.SemanticTokensRangeRequest=X.SemanticTokensDeltaRequest=X.SemanticTokensRequest=X.SemanticTokensRegistrationType=X.TokenFormat=X.SemanticTokens=X.SemanticTokenModifiers=X.SemanticTokenTypes=void 0;var gn=ue(),$l;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator"})($l=X.SemanticTokenTypes||(X.SemanticTokenTypes={}));var zl;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(zl=X.SemanticTokenModifiers||(X.SemanticTokenModifiers={}));var Bl;(function(e){function t(n){let r=n;return r!==void 0&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}e.is=t})(Bl=X.SemanticTokens||(X.SemanticTokens={}));var Gl;(function(e){e.Relative="relative"})(Gl=X.TokenFormat||(X.TokenFormat={}));var Jl;(function(e){e.method="textDocument/semanticTokens",e.type=new gn.RegistrationType(e.method)})(Jl=X.SemanticTokensRegistrationType||(X.SemanticTokensRegistrationType={}));var Ul;(function(e){e.method="textDocument/semanticTokens/full",e.type=new gn.ProtocolRequestType(e.method)})(Ul=X.SemanticTokensRequest||(X.SemanticTokensRequest={}));var Xl;(function(e){e.method="textDocument/semanticTokens/full/delta",e.type=new gn.ProtocolRequestType(e.method)})(Xl=X.SemanticTokensDeltaRequest||(X.SemanticTokensDeltaRequest={}));var Ql;(function(e){e.method="textDocument/semanticTokens/range",e.type=new gn.ProtocolRequestType(e.method)})(Ql=X.SemanticTokensRangeRequest||(X.SemanticTokensRangeRequest={}));var Yl;(function(e){e.method="workspace/semanticTokens/refresh",e.type=new gn.ProtocolRequestType0(e.method)})(Yl=X.SemanticTokensRefreshRequest||(X.SemanticTokensRefreshRequest={}))});var Ks=D(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});mn.ShowDocumentRequest=void 0;var Zl=ue(),Kl;(function(e){e.method="window/showDocument",e.type=new Zl.ProtocolRequestType(e.method)})(Kl=mn.ShowDocumentRequest||(mn.ShowDocumentRequest={}))});var Vs=D(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});pn.LinkedEditingRangeRequest=void 0;var Vl=ue(),ef;(function(e){e.method="textDocument/linkedEditingRange",e.type=new Vl.ProtocolRequestType(e.method)})(ef=pn.LinkedEditingRangeRequest||(pn.LinkedEditingRangeRequest={}))});var ea=D(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.WillDeleteFilesRequest=V.DidDeleteFilesNotification=V.DidRenameFilesNotification=V.WillRenameFilesRequest=V.DidCreateFilesNotification=V.WillCreateFilesRequest=V.FileOperationPatternKind=void 0;var zt=ue(),tf;(function(e){e.file="file",e.folder="folder"})(tf=V.FileOperationPatternKind||(V.FileOperationPatternKind={}));var nf;(function(e){e.method="workspace/willCreateFiles",e.type=new zt.ProtocolRequestType(e.method)})(nf=V.WillCreateFilesRequest||(V.WillCreateFilesRequest={}));var rf;(function(e){e.method="workspace/didCreateFiles",e.type=new zt.ProtocolNotificationType(e.method)})(rf=V.DidCreateFilesNotification||(V.DidCreateFilesNotification={}));var of;(function(e){e.method="workspace/willRenameFiles",e.type=new zt.ProtocolRequestType(e.method)})(of=V.WillRenameFilesRequest||(V.WillRenameFilesRequest={}));var sf;(function(e){e.method="workspace/didRenameFiles",e.type=new zt.ProtocolNotificationType(e.method)})(sf=V.DidRenameFilesNotification||(V.DidRenameFilesNotification={}));var af;(function(e){e.method="workspace/didDeleteFiles",e.type=new zt.ProtocolNotificationType(e.method)})(af=V.DidDeleteFilesNotification||(V.DidDeleteFilesNotification={}));var cf;(function(e){e.method="workspace/willDeleteFiles",e.type=new zt.ProtocolRequestType(e.method)})(cf=V.WillDeleteFilesRequest||(V.WillDeleteFilesRequest={}))});var ta=D(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.MonikerRequest=Le.MonikerKind=Le.UniquenessLevel=void 0;var uf=ue(),lf;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(lf=Le.UniquenessLevel||(Le.UniquenessLevel={}));var ff;(function(e){e.import="import",e.export="export",e.local="local"})(ff=Le.MonikerKind||(Le.MonikerKind={}));var df;(function(e){e.method="textDocument/moniker",e.type=new uf.ProtocolRequestType(e.method)})(df=Le.MonikerRequest||(Le.MonikerRequest={}))});var sa=D(l=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.DocumentLinkRequest=l.CodeLensRefreshRequest=l.CodeLensResolveRequest=l.CodeLensRequest=l.WorkspaceSymbolRequest=l.CodeActionResolveRequest=l.CodeActionRequest=l.DocumentSymbolRequest=l.DocumentHighlightRequest=l.ReferencesRequest=l.DefinitionRequest=l.SignatureHelpRequest=l.SignatureHelpTriggerKind=l.HoverRequest=l.CompletionResolveRequest=l.CompletionRequest=l.CompletionTriggerKind=l.PublishDiagnosticsNotification=l.WatchKind=l.FileChangeType=l.DidChangeWatchedFilesNotification=l.WillSaveTextDocumentWaitUntilRequest=l.WillSaveTextDocumentNotification=l.TextDocumentSaveReason=l.DidSaveTextDocumentNotification=l.DidCloseTextDocumentNotification=l.DidChangeTextDocumentNotification=l.TextDocumentContentChangeEvent=l.DidOpenTextDocumentNotification=l.TextDocumentSyncKind=l.TelemetryEventNotification=l.LogMessageNotification=l.ShowMessageRequest=l.ShowMessageNotification=l.MessageType=l.DidChangeConfigurationNotification=l.ExitNotification=l.ShutdownRequest=l.InitializedNotification=l.InitializeError=l.InitializeRequest=l.WorkDoneProgressOptions=l.TextDocumentRegistrationOptions=l.StaticRegistrationOptions=l.FailureHandlingKind=l.ResourceOperationKind=l.UnregistrationRequest=l.RegistrationRequest=l.DocumentSelector=l.DocumentFilter=void 0;l.MonikerRequest=l.MonikerKind=l.UniquenessLevel=l.WillDeleteFilesRequest=l.DidDeleteFilesNotification=l.WillRenameFilesRequest=l.DidRenameFilesNotification=l.WillCreateFilesRequest=l.DidCreateFilesNotification=l.FileOperationPatternKind=l.LinkedEditingRangeRequest=l.ShowDocumentRequest=l.SemanticTokensRegistrationType=l.SemanticTokensRefreshRequest=l.SemanticTokensRangeRequest=l.SemanticTokensDeltaRequest=l.SemanticTokensRequest=l.TokenFormat=l.SemanticTokens=l.SemanticTokenModifiers=l.SemanticTokenTypes=l.CallHierarchyPrepareRequest=l.CallHierarchyOutgoingCallsRequest=l.CallHierarchyIncomingCallsRequest=l.WorkDoneProgressCancelNotification=l.WorkDoneProgressCreateRequest=l.WorkDoneProgress=l.SelectionRangeRequest=l.DeclarationRequest=l.FoldingRangeRequest=l.ColorPresentationRequest=l.DocumentColorRequest=l.ConfigurationRequest=l.DidChangeWorkspaceFoldersNotification=l.WorkspaceFoldersRequest=l.TypeDefinitionRequest=l.ImplementationRequest=l.ApplyWorkspaceEditRequest=l.ExecuteCommandRequest=l.PrepareRenameRequest=l.RenameRequest=l.PrepareSupportDefaultBehavior=l.DocumentOnTypeFormattingRequest=l.DocumentRangeFormattingRequest=l.DocumentFormattingRequest=l.DocumentLinkResolveRequest=void 0;var at=As(),W=ue(),hf=Ls();Object.defineProperty(l,"ImplementationRequest",{enumerable:!0,get:function(){return hf.ImplementationRequest}});var gf=Is();Object.defineProperty(l,"TypeDefinitionRequest",{enumerable:!0,get:function(){return gf.TypeDefinitionRequest}});var na=Hs();Object.defineProperty(l,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return na.WorkspaceFoldersRequest}});Object.defineProperty(l,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return na.DidChangeWorkspaceFoldersNotification}});var mf=$s();Object.defineProperty(l,"ConfigurationRequest",{enumerable:!0,get:function(){return mf.ConfigurationRequest}});var ra=Bs();Object.defineProperty(l,"DocumentColorRequest",{enumerable:!0,get:function(){return ra.DocumentColorRequest}});Object.defineProperty(l,"ColorPresentationRequest",{enumerable:!0,get:function(){return ra.ColorPresentationRequest}});var pf=Gs();Object.defineProperty(l,"FoldingRangeRequest",{enumerable:!0,get:function(){return pf.FoldingRangeRequest}});var vf=Js();Object.defineProperty(l,"DeclarationRequest",{enumerable:!0,get:function(){return vf.DeclarationRequest}});var yf=Us();Object.defineProperty(l,"SelectionRangeRequest",{enumerable:!0,get:function(){return yf.SelectionRangeRequest}});var Ui=Qs();Object.defineProperty(l,"WorkDoneProgress",{enumerable:!0,get:function(){return Ui.WorkDoneProgress}});Object.defineProperty(l,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return Ui.WorkDoneProgressCreateRequest}});Object.defineProperty(l,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return Ui.WorkDoneProgressCancelNotification}});var Xi=Ys();Object.defineProperty(l,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return Xi.CallHierarchyIncomingCallsRequest}});Object.defineProperty(l,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return Xi.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(l,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return Xi.CallHierarchyPrepareRequest}});var Ye=Zs();Object.defineProperty(l,"SemanticTokenTypes",{enumerable:!0,get:function(){return Ye.SemanticTokenTypes}});Object.defineProperty(l,"SemanticTokenModifiers",{enumerable:!0,get:function(){return Ye.SemanticTokenModifiers}});Object.defineProperty(l,"SemanticTokens",{enumerable:!0,get:function(){return Ye.SemanticTokens}});Object.defineProperty(l,"TokenFormat",{enumerable:!0,get:function(){return Ye.TokenFormat}});Object.defineProperty(l,"SemanticTokensRequest",{enumerable:!0,get:function(){return Ye.SemanticTokensRequest}});Object.defineProperty(l,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return Ye.SemanticTokensDeltaRequest}});Object.defineProperty(l,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return Ye.SemanticTokensRangeRequest}});Object.defineProperty(l,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return Ye.SemanticTokensRefreshRequest}});Object.defineProperty(l,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return Ye.SemanticTokensRegistrationType}});var _f=Ks();Object.defineProperty(l,"ShowDocumentRequest",{enumerable:!0,get:function(){return _f.ShowDocumentRequest}});var bf=Vs();Object.defineProperty(l,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return bf.LinkedEditingRangeRequest}});var kt=ea();Object.defineProperty(l,"FileOperationPatternKind",{enumerable:!0,get:function(){return kt.FileOperationPatternKind}});Object.defineProperty(l,"DidCreateFilesNotification",{enumerable:!0,get:function(){return kt.DidCreateFilesNotification}});Object.defineProperty(l,"WillCreateFilesRequest",{enumerable:!0,get:function(){return kt.WillCreateFilesRequest}});Object.defineProperty(l,"DidRenameFilesNotification",{enumerable:!0,get:function(){return kt.DidRenameFilesNotification}});Object.defineProperty(l,"WillRenameFilesRequest",{enumerable:!0,get:function(){return kt.WillRenameFilesRequest}});Object.defineProperty(l,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return kt.DidDeleteFilesNotification}});Object.defineProperty(l,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return kt.WillDeleteFilesRequest}});var Qi=ta();Object.defineProperty(l,"UniquenessLevel",{enumerable:!0,get:function(){return Qi.UniquenessLevel}});Object.defineProperty(l,"MonikerKind",{enumerable:!0,get:function(){return Qi.MonikerKind}});Object.defineProperty(l,"MonikerRequest",{enumerable:!0,get:function(){return Qi.MonikerRequest}});var ia;(function(e){function t(n){let r=n;return at.string(r.language)||at.string(r.scheme)||at.string(r.pattern)}e.is=t})(ia=l.DocumentFilter||(l.DocumentFilter={}));var oa;(function(e){function t(n){if(!Array.isArray(n))return!1;for(let r of n)if(!at.string(r)&&!ia.is(r))return!1;return!0}e.is=t})(oa=l.DocumentSelector||(l.DocumentSelector={}));var Rf;(function(e){e.type=new W.ProtocolRequestType("client/registerCapability")})(Rf=l.RegistrationRequest||(l.RegistrationRequest={}));var wf;(function(e){e.type=new W.ProtocolRequestType("client/unregisterCapability")})(wf=l.UnregistrationRequest||(l.UnregistrationRequest={}));var qf;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(qf=l.ResourceOperationKind||(l.ResourceOperationKind={}));var kf;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(kf=l.FailureHandlingKind||(l.FailureHandlingKind={}));var Tf;(function(e){function t(n){let r=n;return r&&at.string(r.id)&&r.id.length>0}e.hasId=t})(Tf=l.StaticRegistrationOptions||(l.StaticRegistrationOptions={}));var Cf;(function(e){function t(n){let r=n;return r&&(r.documentSelector===null||oa.is(r.documentSelector))}e.is=t})(Cf=l.TextDocumentRegistrationOptions||(l.TextDocumentRegistrationOptions={}));var Sf;(function(e){function t(r){let i=r;return at.objectLiteral(i)&&(i.workDoneProgress===void 0||at.boolean(i.workDoneProgress))}e.is=t;function n(r){let i=r;return i&&at.boolean(i.workDoneProgress)}e.hasWorkDoneProgress=n})(Sf=l.WorkDoneProgressOptions||(l.WorkDoneProgressOptions={}));var Pf;(function(e){e.type=new W.ProtocolRequestType("initialize")})(Pf=l.InitializeRequest||(l.InitializeRequest={}));var Ef;(function(e){e.unknownProtocolVersion=1})(Ef=l.InitializeError||(l.InitializeError={}));var Df;(function(e){e.type=new W.ProtocolNotificationType("initialized")})(Df=l.InitializedNotification||(l.InitializedNotification={}));var Of;(function(e){e.type=new W.ProtocolRequestType0("shutdown")})(Of=l.ShutdownRequest||(l.ShutdownRequest={}));var Nf;(function(e){e.type=new W.ProtocolNotificationType0("exit")})(Nf=l.ExitNotification||(l.ExitNotification={}));var jf;(function(e){e.type=new W.ProtocolNotificationType("workspace/didChangeConfiguration")})(jf=l.DidChangeConfigurationNotification||(l.DidChangeConfigurationNotification={}));var Mf;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4})(Mf=l.MessageType||(l.MessageType={}));var Ff;(function(e){e.type=new W.ProtocolNotificationType("window/showMessage")})(Ff=l.ShowMessageNotification||(l.ShowMessageNotification={}));var xf;(function(e){e.type=new W.ProtocolRequestType("window/showMessageRequest")})(xf=l.ShowMessageRequest||(l.ShowMessageRequest={}));var Af;(function(e){e.type=new W.ProtocolNotificationType("window/logMessage")})(Af=l.LogMessageNotification||(l.LogMessageNotification={}));var Lf;(function(e){e.type=new W.ProtocolNotificationType("telemetry/event")})(Lf=l.TelemetryEventNotification||(l.TelemetryEventNotification={}));var If;(function(e){e.None=0,e.Full=1,e.Incremental=2})(If=l.TextDocumentSyncKind||(l.TextDocumentSyncKind={}));var Wf;(function(e){e.method="textDocument/didOpen",e.type=new W.ProtocolNotificationType(e.method)})(Wf=l.DidOpenTextDocumentNotification||(l.DidOpenTextDocumentNotification={}));var Hf;(function(e){function t(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}e.isIncremental=t;function n(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}e.isFull=n})(Hf=l.TextDocumentContentChangeEvent||(l.TextDocumentContentChangeEvent={}));var $f;(function(e){e.method="textDocument/didChange",e.type=new W.ProtocolNotificationType(e.method)})($f=l.DidChangeTextDocumentNotification||(l.DidChangeTextDocumentNotification={}));var zf;(function(e){e.method="textDocument/didClose",e.type=new W.ProtocolNotificationType(e.method)})(zf=l.DidCloseTextDocumentNotification||(l.DidCloseTextDocumentNotification={}));var Bf;(function(e){e.method="textDocument/didSave",e.type=new W.ProtocolNotificationType(e.method)})(Bf=l.DidSaveTextDocumentNotification||(l.DidSaveTextDocumentNotification={}));var Gf;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(Gf=l.TextDocumentSaveReason||(l.TextDocumentSaveReason={}));var Jf;(function(e){e.method="textDocument/willSave",e.type=new W.ProtocolNotificationType(e.method)})(Jf=l.WillSaveTextDocumentNotification||(l.WillSaveTextDocumentNotification={}));var Uf;(function(e){e.method="textDocument/willSaveWaitUntil",e.type=new W.ProtocolRequestType(e.method)})(Uf=l.WillSaveTextDocumentWaitUntilRequest||(l.WillSaveTextDocumentWaitUntilRequest={}));var Xf;(function(e){e.type=new W.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(Xf=l.DidChangeWatchedFilesNotification||(l.DidChangeWatchedFilesNotification={}));var Qf;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(Qf=l.FileChangeType||(l.FileChangeType={}));var Yf;(function(e){e.Create=1,e.Change=2,e.Delete=4})(Yf=l.WatchKind||(l.WatchKind={}));var Zf;(function(e){e.type=new W.ProtocolNotificationType("textDocument/publishDiagnostics")})(Zf=l.PublishDiagnosticsNotification||(l.PublishDiagnosticsNotification={}));var Kf;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(Kf=l.CompletionTriggerKind||(l.CompletionTriggerKind={}));var Vf;(function(e){e.method="textDocument/completion",e.type=new W.ProtocolRequestType(e.method)})(Vf=l.CompletionRequest||(l.CompletionRequest={}));var ed;(function(e){e.method="completionItem/resolve",e.type=new W.ProtocolRequestType(e.method)})(ed=l.CompletionResolveRequest||(l.CompletionResolveRequest={}));var td;(function(e){e.method="textDocument/hover",e.type=new W.ProtocolRequestType(e.method)})(td=l.HoverRequest||(l.HoverRequest={}));var nd;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(nd=l.SignatureHelpTriggerKind||(l.SignatureHelpTriggerKind={}));var rd;(function(e){e.method="textDocument/signatureHelp",e.type=new W.ProtocolRequestType(e.method)})(rd=l.SignatureHelpRequest||(l.SignatureHelpRequest={}));var id;(function(e){e.method="textDocument/definition",e.type=new W.ProtocolRequestType(e.method)})(id=l.DefinitionRequest||(l.DefinitionRequest={}));var od;(function(e){e.method="textDocument/references",e.type=new W.ProtocolRequestType(e.method)})(od=l.ReferencesRequest||(l.ReferencesRequest={}));var sd;(function(e){e.method="textDocument/documentHighlight",e.type=new W.ProtocolRequestType(e.method)})(sd=l.DocumentHighlightRequest||(l.DocumentHighlightRequest={}));var ad;(function(e){e.method="textDocument/documentSymbol",e.type=new W.ProtocolRequestType(e.method)})(ad=l.DocumentSymbolRequest||(l.DocumentSymbolRequest={}));var cd;(function(e){e.method="textDocument/codeAction",e.type=new W.ProtocolRequestType(e.method)})(cd=l.CodeActionRequest||(l.CodeActionRequest={}));var ud;(function(e){e.method="codeAction/resolve",e.type=new W.ProtocolRequestType(e.method)})(ud=l.CodeActionResolveRequest||(l.CodeActionResolveRequest={}));var ld;(function(e){e.method="workspace/symbol",e.type=new W.ProtocolRequestType(e.method)})(ld=l.WorkspaceSymbolRequest||(l.WorkspaceSymbolRequest={}));var fd;(function(e){e.method="textDocument/codeLens",e.type=new W.ProtocolRequestType(e.method)})(fd=l.CodeLensRequest||(l.CodeLensRequest={}));var dd;(function(e){e.method="codeLens/resolve",e.type=new W.ProtocolRequestType(e.method)})(dd=l.CodeLensResolveRequest||(l.CodeLensResolveRequest={}));var hd;(function(e){e.method="workspace/codeLens/refresh",e.type=new W.ProtocolRequestType0(e.method)})(hd=l.CodeLensRefreshRequest||(l.CodeLensRefreshRequest={}));var gd;(function(e){e.method="textDocument/documentLink",e.type=new W.ProtocolRequestType(e.method)})(gd=l.DocumentLinkRequest||(l.DocumentLinkRequest={}));var md;(function(e){e.method="documentLink/resolve",e.type=new W.ProtocolRequestType(e.method)})(md=l.DocumentLinkResolveRequest||(l.DocumentLinkResolveRequest={}));var pd;(function(e){e.method="textDocument/formatting",e.type=new W.ProtocolRequestType(e.method)})(pd=l.DocumentFormattingRequest||(l.DocumentFormattingRequest={}));var vd;(function(e){e.method="textDocument/rangeFormatting",e.type=new W.ProtocolRequestType(e.method)})(vd=l.DocumentRangeFormattingRequest||(l.DocumentRangeFormattingRequest={}));var yd;(function(e){e.method="textDocument/onTypeFormatting",e.type=new W.ProtocolRequestType(e.method)})(yd=l.DocumentOnTypeFormattingRequest||(l.DocumentOnTypeFormattingRequest={}));var _d;(function(e){e.Identifier=1})(_d=l.PrepareSupportDefaultBehavior||(l.PrepareSupportDefaultBehavior={}));var bd;(function(e){e.method="textDocument/rename",e.type=new W.ProtocolRequestType(e.method)})(bd=l.RenameRequest||(l.RenameRequest={}));var Rd;(function(e){e.method="textDocument/prepareRename",e.type=new W.ProtocolRequestType(e.method)})(Rd=l.PrepareRenameRequest||(l.PrepareRenameRequest={}));var wd;(function(e){e.type=new W.ProtocolRequestType("workspace/executeCommand")})(wd=l.ExecuteCommandRequest||(l.ExecuteCommandRequest={}));var qd;(function(e){e.type=new W.ProtocolRequestType("workspace/applyEdit")})(qd=l.ApplyWorkspaceEditRequest||(l.ApplyWorkspaceEditRequest={}))});var ca=D(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});Un.createProtocolConnection=void 0;var aa=Ht();function kd(e,t,n,r){return aa.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),aa.createMessageConnection(e,t,n,r)}Un.createProtocolConnection=kd});var ua=D(pe=>{"use strict";var Td=pe&&pe.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Xn=pe&&pe.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Td(t,e,n)};Object.defineProperty(pe,"__esModule",{value:!0});pe.LSPErrorCodes=pe.createProtocolConnection=void 0;Xn(Ht(),pe);Xn(Ms(),pe);Xn(ue(),pe);Xn(sa(),pe);var Cd=ca();Object.defineProperty(pe,"createProtocolConnection",{enumerable:!0,get:function(){return Cd.createProtocolConnection}});var Sd;(function(e){e.lspReservedErrorRangeStart=-32899,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800})(Sd=pe.LSPErrorCodes||(pe.LSPErrorCodes={}))});var be=D(ze=>{"use strict";var Pd=ze&&ze.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),la=ze&&ze.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Pd(t,e,n)};Object.defineProperty(ze,"__esModule",{value:!0});ze.createProtocolConnection=void 0;var Ed=Wi();la(Wi(),ze);la(ua(),ze);function Dd(e,t,n,r){return Ed.createMessageConnection(e,t,n,r)}ze.createProtocolConnection=Dd});var Yi=D(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.generateUuid=Ee.parse=Ee.isUUID=Ee.v4=Ee.empty=void 0;var vn=class{constructor(t){this._value=t}asHex(){return this._value}equals(t){return this.asHex()===t.asHex()}},z=class extends vn{constructor(){super([z._randomHex(),z._randomHex(),z._randomHex(),z._randomHex(),z._randomHex(),z._randomHex(),z._randomHex(),z._randomHex(),"-",z._randomHex(),z._randomHex(),z._randomHex(),z._randomHex(),"-","4",z._randomHex(),z._randomHex(),z._randomHex(),"-",z._oneOf(z._timeHighBits),z._randomHex(),z._randomHex(),z._randomHex(),"-",z._randomHex(),z._randomHex(),z._randomHex(),z._randomHex(),z._randomHex(),z._randomHex(),z._randomHex(),z._randomHex(),z._randomHex(),z._randomHex(),z._randomHex(),z._randomHex()].join(""))}static _oneOf(t){return t[Math.floor(t.length*Math.random())]}static _randomHex(){return z._oneOf(z._chars)}};z._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];z._timeHighBits=["8","9","a","b"];Ee.empty=new vn("00000000-0000-0000-0000-000000000000");function fa(){return new z}Ee.v4=fa;var Od=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function da(e){return Od.test(e)}Ee.isUUID=da;function Nd(e){if(!da(e))throw new Error("invalid uuid");return new vn(e)}Ee.parse=Nd;function jd(){return fa().asHex()}Ee.generateUuid=jd});var ha=D(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.attachPartialResult=ut.ProgressFeature=ut.attachWorkDone=void 0;var ct=be(),Md=Yi(),Be=class{constructor(t,n){this._connection=t,this._token=n,Be.Instances.set(this._token,this)}begin(t,n,r,i){let a={kind:"begin",title:t,percentage:n,message:r,cancellable:i};this._connection.sendProgress(ct.WorkDoneProgress.type,this._token,a)}report(t,n){let r={kind:"report"};typeof t=="number"?(r.percentage=t,n!==void 0&&(r.message=n)):r.message=t,this._connection.sendProgress(ct.WorkDoneProgress.type,this._token,r)}done(){Be.Instances.delete(this._token),this._connection.sendProgress(ct.WorkDoneProgress.type,this._token,{kind:"end"})}};Be.Instances=new Map;var Qn=class extends Be{constructor(t,n){super(t,n),this._source=new ct.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},yn=class{constructor(){}begin(){}report(){}done(){}},Yn=class extends yn{constructor(){super(),this._source=new ct.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function Fd(e,t){if(t===void 0||t.workDoneToken===void 0)return new yn;let n=t.workDoneToken;return delete t.workDoneToken,new Be(e,n)}ut.attachWorkDone=Fd;var xd=e=>class extends e{constructor(){super(),this._progressSupported=!1}initialize(t){var n;((n=t?.window)===null||n===void 0?void 0:n.workDoneProgress)===!0&&(this._progressSupported=!0,this.connection.onNotification(ct.WorkDoneProgressCancelNotification.type,r=>{let i=Be.Instances.get(r.token);(i instanceof Qn||i instanceof Yn)&&i.cancel()}))}attachWorkDoneProgress(t){return t===void 0?new yn:new Be(this.connection,t)}createWorkDoneProgress(){if(this._progressSupported){let t=Md.generateUuid();return this.connection.sendRequest(ct.WorkDoneProgressCreateRequest.type,{token:t}).then(()=>new Qn(this.connection,t))}else return Promise.resolve(new Yn)}};ut.ProgressFeature=xd;var Zi;(function(e){e.type=new ct.ProgressType})(Zi||(Zi={}));var Ki=class{constructor(t,n){this._connection=t,this._token=n}report(t){this._connection.sendProgress(Zi.type,this._token,t)}};function Ad(e,t){if(t===void 0||t.partialResultToken===void 0)return;let n=t.partialResultToken;return delete t.partialResultToken,new Ki(e,n)}ut.attachPartialResult=Ad});var ga=D(Zn=>{"use strict";Object.defineProperty(Zn,"__esModule",{value:!0});Zn.ConfigurationFeature=void 0;var Ld=be(),Id=jn(),Wd=e=>class extends e{getConfiguration(t){return t?Id.string(t)?this._getConfiguration({section:t}):this._getConfiguration(t):this._getConfiguration({})}_getConfiguration(t){let n={items:Array.isArray(t)?t:[t]};return this.connection.sendRequest(Ld.ConfigurationRequest.type,n).then(r=>Array.isArray(t)?r:r[0])}};Zn.ConfigurationFeature=Wd});var ma=D(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});Vn.WorkspaceFoldersFeature=void 0;var Kn=be(),Hd=e=>class extends e{initialize(t){let n=t.workspace;n&&n.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new Kn.Emitter,this.connection.onNotification(Kn.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}getWorkspaceFolders(){return this.connection.sendRequest(Kn.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(Kn.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};Vn.WorkspaceFoldersFeature=Hd});var pa=D(er=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});er.CallHierarchyFeature=void 0;var Vi=be(),$d=e=>class extends e{get callHierarchy(){return{onPrepare:t=>{this.connection.onRequest(Vi.CallHierarchyPrepareRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),void 0))},onIncomingCalls:t=>{let n=Vi.CallHierarchyIncomingCallsRequest.type;this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onOutgoingCalls:t=>{let n=Vi.CallHierarchyOutgoingCallsRequest.type;this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};er.CallHierarchyFeature=$d});var no=D(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.SemanticTokensBuilder=Bt.SemanticTokensFeature=void 0;var eo=be(),zd=e=>class extends e{get semanticTokens(){return{on:t=>{let n=eo.SemanticTokensRequest.type;this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onDelta:t=>{let n=eo.SemanticTokensDeltaRequest.type;this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onRange:t=>{let n=eo.SemanticTokensRangeRequest.type;this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Bt.SemanticTokensFeature=zd;var to=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(t,n,r,i,a){let c=t,m=n;this._dataLen>0&&(c-=this._prevLine,c===0&&(m-=this._prevChar)),this._data[this._dataLen++]=c,this._data[this._dataLen++]=m,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._data[this._dataLen++]=a,this._prevLine=t,this._prevChar=n}get id(){return this._id.toString()}previousResult(t){this.id===t&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){if(this._prevData!==void 0){let t=this._prevData.length,n=this._data.length,r=0;for(;r<n&&r<t&&this._prevData[r]===this._data[r];)r++;if(r<n&&r<t){let i=0;for(;i<n&&i<t&&this._prevData[t-1-i]===this._data[n-1-i];)i++;let a=this._data.slice(r,n-i);return{resultId:this.id,edits:[{start:r,deleteCount:t-i-r,data:a}]}}else return r<n?{resultId:this.id,edits:[{start:r,deleteCount:0,data:this._data.slice(r)}]}:r<t?{resultId:this.id,edits:[{start:r,deleteCount:t-r}]}:{resultId:this.id,edits:[]}}else return this.build()}};Bt.SemanticTokensBuilder=to});var va=D(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.ShowDocumentFeature=void 0;var Bd=be(),Gd=e=>class extends e{showDocument(t){return this.connection.sendRequest(Bd.ShowDocumentRequest.type,t)}};tr.ShowDocumentFeature=Gd});var ya=D(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.FileOperationsFeature=void 0;var Gt=be(),Jd=e=>class extends e{onDidCreateFiles(t){this.connection.onNotification(Gt.DidCreateFilesNotification.type,n=>{t(n)})}onDidRenameFiles(t){this.connection.onNotification(Gt.DidRenameFilesNotification.type,n=>{t(n)})}onDidDeleteFiles(t){this.connection.onNotification(Gt.DidDeleteFilesNotification.type,n=>{t(n)})}onWillCreateFiles(t){return this.connection.onRequest(Gt.WillCreateFilesRequest.type,(n,r)=>t(n,r))}onWillRenameFiles(t){return this.connection.onRequest(Gt.WillRenameFilesRequest.type,(n,r)=>t(n,r))}onWillDeleteFiles(t){return this.connection.onRequest(Gt.WillDeleteFilesRequest.type,(n,r)=>t(n,r))}};nr.FileOperationsFeature=Jd});var _a=D(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.LinkedEditingRangeFeature=void 0;var Ud=be(),Xd=e=>class extends e{onLinkedEditingRange(t){this.connection.onRequest(Ud.LinkedEditingRangeRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),void 0))}};rr.LinkedEditingRangeFeature=Xd});var ba=D(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});ir.MonikerFeature=void 0;var Qd=be(),Yd=e=>class extends e{get moniker(){return{on:t=>{let n=Qd.MonikerRequest.type;this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};ir.MonikerFeature=Yd});var uo=D(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});G.createConnection=G.combineFeatures=G.combineLanguagesFeatures=G.combineWorkspaceFeatures=G.combineWindowFeatures=G.combineClientFeatures=G.combineTracerFeatures=G.combineTelemetryFeatures=G.combineConsoleFeatures=G._LanguagesImpl=G.BulkUnregistration=G.BulkRegistration=G.ErrorMessageTracker=G.TextDocuments=void 0;var E=be(),De=jn(),io=Yi(),H=ha(),Zd=ga(),Kd=ma(),Vd=pa(),eh=no(),th=va(),nh=ya(),rh=_a(),ih=ba();function ro(e){if(e!==null)return e}var oo=class{constructor(t){this._documents=Object.create(null),this._configuration=t,this._onDidChangeContent=new E.Emitter,this._onDidOpen=new E.Emitter,this._onDidClose=new E.Emitter,this._onDidSave=new E.Emitter,this._onWillSave=new E.Emitter}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(t){this._willSaveWaitUntil=t}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(t){return this._documents[t]}all(){return Object.keys(this._documents).map(t=>this._documents[t])}keys(){return Object.keys(this._documents)}listen(t){t.__textDocumentSync=E.TextDocumentSyncKind.Full,t.onDidOpenTextDocument(n=>{let r=n.textDocument,i=this._configuration.create(r.uri,r.languageId,r.version,r.text);this._documents[r.uri]=i;let a=Object.freeze({document:i});this._onDidOpen.fire(a),this._onDidChangeContent.fire(a)}),t.onDidChangeTextDocument(n=>{let r=n.textDocument,i=n.contentChanges;if(i.length===0)return;let a=this._documents[r.uri],{version:c}=r;if(c==null)throw new Error(`Received document change event for ${r.uri} without valid version identifier`);a=this._configuration.update(a,i,c),this._documents[r.uri]=a,this._onDidChangeContent.fire(Object.freeze({document:a}))}),t.onDidCloseTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&(delete this._documents[n.textDocument.uri],this._onDidClose.fire(Object.freeze({document:r})))}),t.onWillSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onWillSave.fire(Object.freeze({document:r,reason:n.reason}))}),t.onWillSaveTextDocumentWaitUntil((n,r)=>{let i=this._documents[n.textDocument.uri];return i&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:i,reason:n.reason}),r):[]}),t.onDidSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onDidSave.fire(Object.freeze({document:r}))})}};G.TextDocuments=oo;var so=class{constructor(){this._messages=Object.create(null)}add(t){let n=this._messages[t];n||(n=0),n++,this._messages[t]=n}sendErrors(t){Object.keys(this._messages).forEach(n=>{t.window.showErrorMessage(n)})}};G.ErrorMessageTracker=so;var or=class{constructor(){}rawAttach(t){this._rawConnection=t}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(t){}initialize(t){}error(t){this.send(E.MessageType.Error,t)}warn(t){this.send(E.MessageType.Warning,t)}info(t){this.send(E.MessageType.Info,t)}log(t){this.send(E.MessageType.Log,t)}send(t,n){this._rawConnection&&this._rawConnection.sendNotification(E.LogMessageNotification.type,{type:t,message:n})}},ao=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}showErrorMessage(t,...n){let r={type:E.MessageType.Error,message:t,actions:n};return this.connection.sendRequest(E.ShowMessageRequest.type,r).then(ro)}showWarningMessage(t,...n){let r={type:E.MessageType.Warning,message:t,actions:n};return this.connection.sendRequest(E.ShowMessageRequest.type,r).then(ro)}showInformationMessage(t,...n){let r={type:E.MessageType.Info,message:t,actions:n};return this.connection.sendRequest(E.ShowMessageRequest.type,r).then(ro)}},Ra=th.ShowDocumentFeature(H.ProgressFeature(ao)),oh;(function(e){function t(){return new sr}e.create=t})(oh=G.BulkRegistration||(G.BulkRegistration={}));var sr=class{constructor(){this._registrations=[],this._registered=new Set}add(t,n){let r=De.string(t)?t:t.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);let i=io.generateUuid();this._registrations.push({id:i,method:r,registerOptions:n||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}},sh;(function(e){function t(){return new _n(void 0,[])}e.create=t})(sh=G.BulkUnregistration||(G.BulkUnregistration={}));var _n=class{constructor(t,n){this._connection=t,this._unregistrations=new Map,n.forEach(r=>{this._unregistrations.set(r.method,r)})}get isAttached(){return!!this._connection}attach(t){this._connection=t}add(t){this._unregistrations.set(t.method,t)}dispose(){let t=[];for(let r of this._unregistrations.values())t.push(r);let n={unregisterations:t};this._connection.sendRequest(E.UnregistrationRequest.type,n).then(void 0,r=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(t){let n=De.string(t)?t:t.method,r=this._unregistrations.get(n);if(!r)return!1;let i={unregisterations:[r]};return this._connection.sendRequest(E.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(n)},a=>{this._connection.console.info(`Un-registering request handler for ${r.id} failed.`)}),!0}},ar=class{attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}register(t,n,r){return t instanceof sr?this.registerMany(t):t instanceof _n?this.registerSingle1(t,n,r):this.registerSingle2(t,n)}registerSingle1(t,n,r){let i=De.string(n)?n:n.method,a=io.generateUuid(),c={registrations:[{id:a,method:i,registerOptions:r||{}}]};return t.isAttached||t.attach(this.connection),this.connection.sendRequest(E.RegistrationRequest.type,c).then(m=>(t.add({id:a,method:i}),t),m=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(m)))}registerSingle2(t,n){let r=De.string(t)?t:t.method,i=io.generateUuid(),a={registrations:[{id:i,method:r,registerOptions:n||{}}]};return this.connection.sendRequest(E.RegistrationRequest.type,a).then(c=>E.Disposable.create(()=>{this.unregisterSingle(i,r)}),c=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(c)))}unregisterSingle(t,n){let r={unregisterations:[{id:t,method:n}]};return this.connection.sendRequest(E.UnregistrationRequest.type,r).then(void 0,i=>{this.connection.console.info(`Un-registering request handler for ${t} failed.`)})}registerMany(t){let n=t.asRegistrationParams();return this.connection.sendRequest(E.RegistrationRequest.type,n).then(()=>new _n(this._connection,n.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)))}},co=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}applyEdit(t){function n(i){return i&&!!i.edit}let r=n(t)?t:{edit:t};return this.connection.sendRequest(E.ApplyWorkspaceEditRequest.type,r)}},wa=nh.FileOperationsFeature(Kd.WorkspaceFoldersFeature(Zd.ConfigurationFeature(co))),cr=class{constructor(){this._trace=E.Trace.Off}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}set trace(t){this._trace=t}log(t,n){this._trace!==E.Trace.Off&&this.connection.sendNotification(E.LogTraceNotification.type,{message:t,verbose:this._trace===E.Trace.Verbose?n:void 0})}},ur=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}logEvent(t){this.connection.sendNotification(E.TelemetryEventNotification.type,t)}},lr=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return H.attachWorkDone(this.connection,t)}attachPartialResultProgress(t,n){return H.attachPartialResult(this.connection,n)}};G._LanguagesImpl=lr;var qa=ih.MonikerFeature(rh.LinkedEditingRangeFeature(eh.SemanticTokensFeature(Vd.CallHierarchyFeature(lr))));function ka(e,t){return function(n){return t(e(n))}}G.combineConsoleFeatures=ka;function Ta(e,t){return function(n){return t(e(n))}}G.combineTelemetryFeatures=Ta;function Ca(e,t){return function(n){return t(e(n))}}G.combineTracerFeatures=Ca;function Sa(e,t){return function(n){return t(e(n))}}G.combineClientFeatures=Sa;function Pa(e,t){return function(n){return t(e(n))}}G.combineWindowFeatures=Pa;function Ea(e,t){return function(n){return t(e(n))}}G.combineWorkspaceFeatures=Ea;function ah(e,t){return function(n){return t(e(n))}}G.combineLanguagesFeatures=ah;function ch(e,t){function n(i,a,c){return i&&a?c(i,a):i||a}return{__brand:"features",console:n(e.console,t.console,ka),tracer:n(e.tracer,t.tracer,Ca),telemetry:n(e.telemetry,t.telemetry,Ta),client:n(e.client,t.client,Sa),window:n(e.window,t.window,Pa),workspace:n(e.workspace,t.workspace,Ea)}}G.combineFeatures=ch;function uh(e,t,n){let r=n&&n.console?new(n.console(or)):new or,i=e(r);r.rawAttach(i);let a=n&&n.tracer?new(n.tracer(cr)):new cr,c=n&&n.telemetry?new(n.telemetry(ur)):new ur,m=n&&n.client?new(n.client(ar)):new ar,h=n&&n.window?new(n.window(Ra)):new Ra,b=n&&n.workspace?new(n.workspace(wa)):new wa,R=n&&n.languages?new(n.languages(qa)):new qa,C=[r,a,c,m,h,b,R];function q(y){return y instanceof Promise?y:De.thenable(y)?new Promise((v,k)=>{y.then(O=>v(O),O=>k(O))}):Promise.resolve(y)}let S,P,j,M={listen:()=>i.listen(),sendRequest:(y,...v)=>i.sendRequest(De.string(y)?y:y.method,...v),onRequest:(y,v)=>i.onRequest(y,v),sendNotification:(y,v)=>{let k=De.string(y)?y:y.method;arguments.length===1?i.sendNotification(k):i.sendNotification(k,v)},onNotification:(y,v)=>i.onNotification(y,v),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:y=>P=y,onInitialized:y=>i.onNotification(E.InitializedNotification.type,y),onShutdown:y=>S=y,onExit:y=>j=y,get console(){return r},get telemetry(){return c},get tracer(){return a},get client(){return m},get window(){return h},get workspace(){return b},get languages(){return R},onDidChangeConfiguration:y=>i.onNotification(E.DidChangeConfigurationNotification.type,y),onDidChangeWatchedFiles:y=>i.onNotification(E.DidChangeWatchedFilesNotification.type,y),__textDocumentSync:void 0,onDidOpenTextDocument:y=>i.onNotification(E.DidOpenTextDocumentNotification.type,y),onDidChangeTextDocument:y=>i.onNotification(E.DidChangeTextDocumentNotification.type,y),onDidCloseTextDocument:y=>i.onNotification(E.DidCloseTextDocumentNotification.type,y),onWillSaveTextDocument:y=>i.onNotification(E.WillSaveTextDocumentNotification.type,y),onWillSaveTextDocumentWaitUntil:y=>i.onRequest(E.WillSaveTextDocumentWaitUntilRequest.type,y),onDidSaveTextDocument:y=>i.onNotification(E.DidSaveTextDocumentNotification.type,y),sendDiagnostics:y=>i.sendNotification(E.PublishDiagnosticsNotification.type,y),onHover:y=>i.onRequest(E.HoverRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),void 0)),onCompletion:y=>i.onRequest(E.CompletionRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),H.attachPartialResult(i,v))),onCompletionResolve:y=>i.onRequest(E.CompletionResolveRequest.type,y),onSignatureHelp:y=>i.onRequest(E.SignatureHelpRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),void 0)),onDeclaration:y=>i.onRequest(E.DeclarationRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),H.attachPartialResult(i,v))),onDefinition:y=>i.onRequest(E.DefinitionRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),H.attachPartialResult(i,v))),onTypeDefinition:y=>i.onRequest(E.TypeDefinitionRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),H.attachPartialResult(i,v))),onImplementation:y=>i.onRequest(E.ImplementationRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),H.attachPartialResult(i,v))),onReferences:y=>i.onRequest(E.ReferencesRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),H.attachPartialResult(i,v))),onDocumentHighlight:y=>i.onRequest(E.DocumentHighlightRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),H.attachPartialResult(i,v))),onDocumentSymbol:y=>i.onRequest(E.DocumentSymbolRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),H.attachPartialResult(i,v))),onWorkspaceSymbol:y=>i.onRequest(E.WorkspaceSymbolRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),H.attachPartialResult(i,v))),onCodeAction:y=>i.onRequest(E.CodeActionRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),H.attachPartialResult(i,v))),onCodeActionResolve:y=>i.onRequest(E.CodeActionResolveRequest.type,(v,k)=>y(v,k)),onCodeLens:y=>i.onRequest(E.CodeLensRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),H.attachPartialResult(i,v))),onCodeLensResolve:y=>i.onRequest(E.CodeLensResolveRequest.type,(v,k)=>y(v,k)),onDocumentFormatting:y=>i.onRequest(E.DocumentFormattingRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),void 0)),onDocumentRangeFormatting:y=>i.onRequest(E.DocumentRangeFormattingRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),void 0)),onDocumentOnTypeFormatting:y=>i.onRequest(E.DocumentOnTypeFormattingRequest.type,(v,k)=>y(v,k)),onRenameRequest:y=>i.onRequest(E.RenameRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),void 0)),onPrepareRename:y=>i.onRequest(E.PrepareRenameRequest.type,(v,k)=>y(v,k)),onDocumentLinks:y=>i.onRequest(E.DocumentLinkRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),H.attachPartialResult(i,v))),onDocumentLinkResolve:y=>i.onRequest(E.DocumentLinkResolveRequest.type,(v,k)=>y(v,k)),onDocumentColor:y=>i.onRequest(E.DocumentColorRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),H.attachPartialResult(i,v))),onColorPresentation:y=>i.onRequest(E.ColorPresentationRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),H.attachPartialResult(i,v))),onFoldingRanges:y=>i.onRequest(E.FoldingRangeRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),H.attachPartialResult(i,v))),onSelectionRanges:y=>i.onRequest(E.SelectionRangeRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),H.attachPartialResult(i,v))),onExecuteCommand:y=>i.onRequest(E.ExecuteCommandRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),void 0)),dispose:()=>i.dispose()};for(let y of C)y.attach(M);return i.onRequest(E.InitializeRequest.type,y=>{t.initialize(y),De.string(y.trace)&&(a.trace=E.Trace.fromString(y.trace));for(let v of C)v.initialize(y.capabilities);if(P){let v=P(y,new E.CancellationTokenSource().token,H.attachWorkDone(i,y),void 0);return q(v).then(k=>{if(k instanceof E.ResponseError)return k;let O=k;O||(O={capabilities:{}});let A=O.capabilities;A||(A={},O.capabilities=A),A.textDocumentSync===void 0||A.textDocumentSync===null?A.textDocumentSync=De.number(M.__textDocumentSync)?M.__textDocumentSync:E.TextDocumentSyncKind.None:!De.number(A.textDocumentSync)&&!De.number(A.textDocumentSync.change)&&(A.textDocumentSync.change=De.number(M.__textDocumentSync)?M.__textDocumentSync:E.TextDocumentSyncKind.None);for(let oe of C)oe.fillServerCapabilities(A);return O})}else{let v={capabilities:{textDocumentSync:E.TextDocumentSyncKind.None}};for(let k of C)k.fillServerCapabilities(v.capabilities);return v}}),i.onRequest(E.ShutdownRequest.type,()=>{if(t.shutdownReceived=!0,S)return S(new E.CancellationTokenSource().token)}),i.onNotification(E.ExitNotification.type,()=>{try{j&&j()}finally{t.shutdownReceived?t.exit(0):t.exit(1)}}),i.onNotification(E.SetTraceNotification.type,y=>{a.trace=E.Trace.fromString(y.value)}),M}G.createConnection=uh});var Oa=D(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.resolveModulePath=ve.FileSystem=ve.resolveGlobalYarnPath=ve.resolveGlobalNodePath=ve.resolve=ve.uriToFilePath=void 0;var lh=require("url"),Ie=require("path"),lo=require("fs"),go=require("child_process");function fh(e){let t=lh.parse(e);if(t.protocol!=="file:"||!t.path)return;let n=t.path.split("/");for(var r=0,i=n.length;r<i;r++)n[r]=decodeURIComponent(n[r]);if(process.platform==="win32"&&n.length>1){let a=n[0],c=n[1];a.length===0&&c.length>1&&c[1]===":"&&n.shift()}return Ie.normalize(n.join("/"))}ve.uriToFilePath=fh;function fo(){return process.platform==="win32"}function fr(e,t,n,r){let i="NODE_PATH",a=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((c,m)=>{let h=process.env,b=Object.create(null);Object.keys(h).forEach(R=>b[R]=h[R]),t&&lo.existsSync(t)&&(b[i]?b[i]=t+Ie.delimiter+b[i]:b[i]=t,r&&r(`NODE_PATH value is: ${b[i]}`)),b.ELECTRON_RUN_AS_NODE="1";try{let R=go.fork("",[],{cwd:n,env:b,execArgv:["-e",a]});if(R.pid===void 0){m(new Error(`Starting process to resolve node module  ${e} failed`));return}R.on("error",q=>{m(q)}),R.on("message",q=>{q.c==="r"&&(R.send({c:"e"}),q.s?c(q.r):m(new Error(`Failed to resolve module: ${e}`)))});let C={c:"rs",a:e};R.send(C)}catch(R){m(R)}})}ve.resolve=fr;function ho(e){let t="npm",n=Object.create(null);Object.keys(process.env).forEach(a=>n[a]=process.env[a]),n.NO_UPDATE_NOTIFIER="true";let r={encoding:"utf8",env:n};fo()&&(t="npm.cmd",r.shell=!0);let i=()=>{};try{process.on("SIGPIPE",i);let a=go.spawnSync(t,["config","get","prefix"],r).stdout;if(!a){e&&e("'npm config get prefix' didn't return a value.");return}let c=a.trim();return e&&e(`'npm config get prefix' value is: ${c}`),c.length>0?fo()?Ie.join(c,"node_modules"):Ie.join(c,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",i)}}ve.resolveGlobalNodePath=ho;function dh(e){let t="yarn",n={encoding:"utf8"};fo()&&(t="yarn.cmd",n.shell=!0);let r=()=>{};try{process.on("SIGPIPE",r);let i=go.spawnSync(t,["global","dir","--json"],n),a=i.stdout;if(!a){e&&(e("'yarn global dir' didn't return a value."),i.stderr&&e(i.stderr));return}let c=a.trim().split(/\r?\n/);for(let m of c)try{let h=JSON.parse(m);if(h.type==="log")return Ie.join(h.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",r)}}ve.resolveGlobalYarnPath=dh;var Da;(function(e){let t;function n(){return t!==void 0||(process.platform==="win32"?t=!1:t=!lo.existsSync(__filename.toUpperCase())||!lo.existsSync(__filename.toLowerCase())),t}e.isCaseSensitive=n;function r(i,a){return n()?Ie.normalize(a).indexOf(Ie.normalize(i))===0:Ie.normalize(a).toLowerCase().indexOf(Ie.normalize(i).toLowerCase())===0}e.isParent=r})(Da=ve.FileSystem||(ve.FileSystem={}));function hh(e,t,n,r){return n?(Ie.isAbsolute(n)||(n=Ie.join(e,n)),fr(t,n,n,r).then(i=>Da.isParent(n,i)?i:Promise.reject(new Error(`Failed to load ${t} from node path location.`))).then(void 0,i=>fr(t,ho(r),e,r))):fr(t,ho(r),e,r)}ve.resolveModulePath=hh});var mo=D((Vm,Na)=>{"use strict";Na.exports=be()});var Ma=D(ke=>{"use strict";var gh=ke&&ke.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),ja=ke&&ke.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&gh(t,e,n)};Object.defineProperty(ke,"__esModule",{value:!0});ke.ProposedFeatures=ke.SemanticTokensBuilder=void 0;var mh=no();Object.defineProperty(ke,"SemanticTokensBuilder",{enumerable:!0,get:function(){return mh.SemanticTokensBuilder}});ja(be(),ke);ja(uo(),ke);var ph;(function(e){e.all={__brand:"features"}})(ph=ke.ProposedFeatures||(ke.ProposedFeatures={}))});var La=D(Te=>{"use strict";var vh=Te&&Te.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),xa=Te&&Te.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&vh(t,e,n)};Object.defineProperty(Te,"__esModule",{value:!0});Te.createConnection=Te.Files=void 0;var po=jn(),yh=uo(),bn=Oa(),Tt=mo();xa(mo(),Te);xa(Ma(),Te);var _h;(function(e){e.uriToFilePath=bn.uriToFilePath,e.resolveGlobalNodePath=bn.resolveGlobalNodePath,e.resolveGlobalYarnPath=bn.resolveGlobalYarnPath,e.resolve=bn.resolve,e.resolveModulePath=bn.resolveModulePath})(_h=Te.Files||(Te.Files={}));var Fa;function dr(){if(Fa!==void 0)try{Fa.end()}catch{}}var Jt=!1,Aa;function bh(){let e="--clientProcessId";function t(n){try{let r=parseInt(n);isNaN(r)||(Aa=setInterval(()=>{try{process.kill(r,0)}catch{dr(),process.exit(Jt?0:1)}},3e3))}catch{}}for(let n=2;n<process.argv.length;n++){let r=process.argv[n];if(r===e&&n+1<process.argv.length){t(process.argv[n+1]);return}else{let i=r.split("=");i[0]===e&&t(i[1])}}}bh();var Rh={initialize:e=>{let t=e.processId;po.number(t)&&Aa===void 0&&setInterval(()=>{try{process.kill(t,0)}catch{process.exit(Jt?0:1)}},3e3)},get shutdownReceived(){return Jt},set shutdownReceived(e){Jt=e},exit:e=>{dr(),process.exit(e)}};function wh(e,t,n,r){let i,a,c,m;return e!==void 0&&e.__brand==="features"&&(i=e,e=t,t=n,n=r),Tt.ConnectionStrategy.is(e)||Tt.ConnectionOptions.is(e)?m=e:(a=e,c=t,m=n),qh(a,c,m,i)}Te.createConnection=wh;function qh(e,t,n,r){if(!e&&!t&&process.argv.length>2){let m,h,b=process.argv.slice(2);for(let R=0;R<b.length;R++){let C=b[R];if(C==="--node-ipc"){e=new Tt.IPCMessageReader(process),t=new Tt.IPCMessageWriter(process);break}else if(C==="--stdio"){e=process.stdin,t=process.stdout;break}else if(C==="--socket"){m=parseInt(b[R+1]);break}else if(C==="--pipe"){h=b[R+1];break}else{var i=C.split("=");if(i[0]==="--socket"){m=parseInt(i[1]);break}else if(i[0]==="--pipe"){h=i[1];break}}}if(m){let R=Tt.createServerSocketTransport(m);e=R[0],t=R[1]}else if(h){let R=Tt.createServerPipeTransport(h);e=R[0],t=R[1]}}var a="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!e)throw new Error("Connection input stream is not set. "+a);if(!t)throw new Error("Connection output stream is not set. "+a);if(po.func(e.read)&&po.func(e.on)){let m=e;m.on("end",()=>{dr(),process.exit(Jt?0:1)}),m.on("close",()=>{dr(),process.exit(Jt?0:1)})}let c=m=>Tt.createProtocolConnection(e,t,m,n);return yh.createConnection(c,Rh,r)}});var Wa=D((np,Ia)=>{"use strict";Ia.exports=La()});var $a=D((Ha,hr)=>{(function(e){if(typeof hr=="object"&&typeof hr.exports=="object"){var t=e(require,Ha);t!==void 0&&(hr.exports=t)}else typeof define=="function"&&define.amd&&define(["require","exports"],e)})(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextDocument=void 0;class n{constructor(b,R,C,q){this._uri=b,this._languageId=R,this._version=C,this._content=q,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(b){if(b){let R=this.offsetAt(b.start),C=this.offsetAt(b.end);return this._content.substring(R,C)}return this._content}update(b,R){for(let C of b)if(n.isIncremental(C)){let q=c(C.range),S=this.offsetAt(q.start),P=this.offsetAt(q.end);this._content=this._content.substring(0,S)+C.text+this._content.substring(P,this._content.length);let j=Math.max(q.start.line,0),M=Math.max(q.end.line,0),y=this._lineOffsets,v=a(C.text,!1,S);if(M-j===v.length)for(let O=0,A=v.length;O<A;O++)y[O+j+1]=v[O];else v.length<1e4?y.splice(j+1,M-j,...v):this._lineOffsets=y=y.slice(0,j+1).concat(v,y.slice(M+1));let k=C.text.length-(P-S);if(k!==0)for(let O=j+1+v.length,A=y.length;O<A;O++)y[O]=y[O]+k}else if(n.isFull(C))this._content=C.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=R}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=a(this._content,!0)),this._lineOffsets}positionAt(b){b=Math.max(Math.min(b,this._content.length),0);let R=this.getLineOffsets(),C=0,q=R.length;if(q===0)return{line:0,character:b};for(;C<q;){let P=Math.floor((C+q)/2);R[P]>b?q=P:C=P+1}let S=C-1;return{line:S,character:b-R[S]}}offsetAt(b){let R=this.getLineOffsets();if(b.line>=R.length)return this._content.length;if(b.line<0)return 0;let C=R[b.line],q=b.line+1<R.length?R[b.line+1]:this._content.length;return Math.max(Math.min(C+b.character,q),C)}get lineCount(){return this.getLineOffsets().length}static isIncremental(b){let R=b;return R!=null&&typeof R.text=="string"&&R.range!==void 0&&(R.rangeLength===void 0||typeof R.rangeLength=="number")}static isFull(b){let R=b;return R!=null&&typeof R.text=="string"&&R.range===void 0&&R.rangeLength===void 0}}var r;(function(h){function b(q,S,P,j){return new n(q,S,P,j)}h.create=b;function R(q,S,P){if(q instanceof n)return q.update(S,P),q;throw new Error("TextDocument.update: document must be created by TextDocument.create")}h.update=R;function C(q,S){let P=q.getText(),j=i(S.map(m),(v,k)=>{let O=v.range.start.line-k.range.start.line;return O===0?v.range.start.character-k.range.start.character:O}),M=0,y=[];for(let v of j){let k=q.offsetAt(v.range.start);if(k<M)throw new Error("Overlapping edit");k>M&&y.push(P.substring(M,k)),v.newText.length&&y.push(v.newText),M=q.offsetAt(v.range.end)}return y.push(P.substr(M)),y.join("")}h.applyEdits=C})(r=t.TextDocument||(t.TextDocument={}));function i(h,b){if(h.length<=1)return h;let R=h.length/2|0,C=h.slice(0,R),q=h.slice(R);i(C,b),i(q,b);let S=0,P=0,j=0;for(;S<C.length&&P<q.length;)b(C[S],q[P])<=0?h[j++]=C[S++]:h[j++]=q[P++];for(;S<C.length;)h[j++]=C[S++];for(;P<q.length;)h[j++]=q[P++];return h}function a(h,b,R=0){let C=b?[R]:[];for(let q=0;q<h.length;q++){let S=h.charCodeAt(q);(S===13||S===10)&&(S===13&&q+1<h.length&&h.charCodeAt(q+1)===10&&q++,C.push(R+q+1))}return C}function c(h){let b=h.start,R=h.end;return b.line>R.line||b.line===R.line&&b.character>R.character?{start:R,end:b}:h}function m(h){let b=c(h.range);return b!==h.range?{newText:h.newText,range:b}:h}})});var za=D(vo=>{var Ct=require("path"),ft=process.platform==="win32",lt=require("fs"),kh=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function Th(){var e;if(kh){var t=new Error;e=n}else e=r;return e;function n(i){i&&(t.message=i.message,i=t,r(i))}function r(i){if(i){if(process.throwDeprecation)throw i;if(!process.noDeprecation){var a="fs: missing callback "+(i.stack||i.message);process.traceDeprecation?console.trace(a):console.error(a)}}}}function Ch(e){return typeof e=="function"?e:Th()}var rp=Ct.normalize;ft?Ze=/(.*?)(?:[\/\\]+|$)/g:Ze=/(.*?)(?:[\/]+|$)/g;var Ze;ft?Rn=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:Rn=/^[\/]*/;var Rn;vo.realpathSync=function(t,n){if(t=Ct.resolve(t),n&&Object.prototype.hasOwnProperty.call(n,t))return n[t];var r=t,i={},a={},c,m,h,b;R();function R(){var M=Rn.exec(t);c=M[0].length,m=M[0],h=M[0],b="",ft&&!a[h]&&(lt.lstatSync(h),a[h]=!0)}for(;c<t.length;){Ze.lastIndex=c;var C=Ze.exec(t);if(b=m,m+=C[0],h=b+C[1],c=Ze.lastIndex,!(a[h]||n&&n[h]===h)){var q;if(n&&Object.prototype.hasOwnProperty.call(n,h))q=n[h];else{var S=lt.lstatSync(h);if(!S.isSymbolicLink()){a[h]=!0,n&&(n[h]=h);continue}var P=null;if(!ft){var j=S.dev.toString(32)+":"+S.ino.toString(32);i.hasOwnProperty(j)&&(P=i[j])}P===null&&(lt.statSync(h),P=lt.readlinkSync(h)),q=Ct.resolve(b,P),n&&(n[h]=q),ft||(i[j]=P)}t=Ct.resolve(q,t.slice(c)),R()}}return n&&(n[r]=t),t};vo.realpath=function(t,n,r){if(typeof r!="function"&&(r=Ch(n),n=null),t=Ct.resolve(t),n&&Object.prototype.hasOwnProperty.call(n,t))return process.nextTick(r.bind(null,null,n[t]));var i=t,a={},c={},m,h,b,R;C();function C(){var M=Rn.exec(t);m=M[0].length,h=M[0],b=M[0],R="",ft&&!c[b]?lt.lstat(b,function(y){if(y)return r(y);c[b]=!0,q()}):process.nextTick(q)}function q(){if(m>=t.length)return n&&(n[i]=t),r(null,t);Ze.lastIndex=m;var M=Ze.exec(t);return R=h,h+=M[0],b=R+M[1],m=Ze.lastIndex,c[b]||n&&n[b]===b?process.nextTick(q):n&&Object.prototype.hasOwnProperty.call(n,b)?j(n[b]):lt.lstat(b,S)}function S(M,y){if(M)return r(M);if(!y.isSymbolicLink())return c[b]=!0,n&&(n[b]=b),process.nextTick(q);if(!ft){var v=y.dev.toString(32)+":"+y.ino.toString(32);if(a.hasOwnProperty(v))return P(null,a[v],b)}lt.stat(b,function(k){if(k)return r(k);lt.readlink(b,function(O,A){ft||(a[v]=A),P(O,A)})})}function P(M,y,v){if(M)return r(M);var k=Ct.resolve(R,y);n&&(n[v]=k),j(k)}function j(M){t=Ct.resolve(M,t.slice(m)),C()}}});var Ro=D((op,Ua)=>{Ua.exports=dt;dt.realpath=dt;dt.sync=bo;dt.realpathSync=bo;dt.monkeypatch=Ph;dt.unmonkeypatch=Eh;var Ut=require("fs"),yo=Ut.realpath,_o=Ut.realpathSync,Sh=process.version,Ba=/^v[0-5]\./.test(Sh),Ga=za();function Ja(e){return e&&e.syscall==="realpath"&&(e.code==="ELOOP"||e.code==="ENOMEM"||e.code==="ENAMETOOLONG")}function dt(e,t,n){if(Ba)return yo(e,t,n);typeof t=="function"&&(n=t,t=null),yo(e,t,function(r,i){Ja(r)?Ga.realpath(e,t,n):n(r,i)})}function bo(e,t){if(Ba)return _o(e,t);try{return _o(e,t)}catch(n){if(Ja(n))return Ga.realpathSync(e,t);throw n}}function Ph(){Ut.realpath=dt,Ut.realpathSync=bo}function Eh(){Ut.realpath=yo,Ut.realpathSync=_o}});var Qa=D((sp,Xa)=>{Xa.exports=function(e,t){for(var n=[],r=0;r<e.length;r++){var i=t(e[r],r);Dh(i)?n.push.apply(n,i):n.push(i)}return n};var Dh=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}});var ec=D((ap,Va)=>{"use strict";Va.exports=Za;function Za(e,t,n){e instanceof RegExp&&(e=Ya(e,n)),t instanceof RegExp&&(t=Ya(t,n));var r=Ka(e,t,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+e.length,r[1]),post:n.slice(r[1]+t.length)}}function Ya(e,t){var n=t.match(e);return n?n[0]:null}Za.range=Ka;function Ka(e,t,n){var r,i,a,c,m,h=n.indexOf(e),b=n.indexOf(t,h+1),R=h;if(h>=0&&b>0){for(r=[],a=n.length;R>=0&&!m;)R==h?(r.push(R),h=n.indexOf(e,R+1)):r.length==1?m=[r.pop(),b]:(i=r.pop(),i<a&&(a=i,c=b),b=n.indexOf(t,R+1)),R=h<b&&h>=0?h:b;r.length&&(m=[a,c])}return m}});var cc=D((cp,ac)=>{var Oh=Qa(),tc=ec();ac.exports=Mh;var nc="\0SLASH"+Math.random()+"\0",rc="\0OPEN"+Math.random()+"\0",qo="\0CLOSE"+Math.random()+"\0",ic="\0COMMA"+Math.random()+"\0",oc="\0PERIOD"+Math.random()+"\0";function wo(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function Nh(e){return e.split("\\\\").join(nc).split("\\{").join(rc).split("\\}").join(qo).split("\\,").join(ic).split("\\.").join(oc)}function jh(e){return e.split(nc).join("\\").split(rc).join("{").split(qo).join("}").split(ic).join(",").split(oc).join(".")}function sc(e){if(!e)return[""];var t=[],n=tc("{","}",e);if(!n)return e.split(",");var r=n.pre,i=n.body,a=n.post,c=r.split(",");c[c.length-1]+="{"+i+"}";var m=sc(a);return a.length&&(c[c.length-1]+=m.shift(),c.push.apply(c,m)),t.push.apply(t,c),t}function Mh(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),Xt(Nh(e),!0).map(jh)):[]}function Fh(e){return"{"+e+"}"}function xh(e){return/^-?0\d/.test(e)}function Ah(e,t){return e<=t}function Lh(e,t){return e>=t}function Xt(e,t){var n=[],r=tc("{","}",e);if(!r||/\$$/.test(r.pre))return[e];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),a=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),c=i||a,m=r.body.indexOf(",")>=0;if(!c&&!m)return r.post.match(/,.*\}/)?(e=r.pre+"{"+r.body+qo+r.post,Xt(e)):[e];var h;if(c)h=r.body.split(/\.\./);else if(h=sc(r.body),h.length===1&&(h=Xt(h[0],!1).map(Fh),h.length===1)){var R=r.post.length?Xt(r.post,!1):[""];return R.map(function(je){return r.pre+h[0]+je})}var b=r.pre,R=r.post.length?Xt(r.post,!1):[""],C;if(c){var q=wo(h[0]),S=wo(h[1]),P=Math.max(h[0].length,h[1].length),j=h.length==3?Math.abs(wo(h[2])):1,M=Ah,y=S<q;y&&(j*=-1,M=Lh);var v=h.some(xh);C=[];for(var k=q;M(k,S);k+=j){var O;if(a)O=String.fromCharCode(k),O==="\\"&&(O="");else if(O=String(k),v){var A=P-O.length;if(A>0){var oe=new Array(A+1).join("0");k<0?O="-"+oe+O.slice(1):O=oe+O}}C.push(O)}}else C=Oh(h,function(Se){return Xt(Se,!1)});for(var qe=0;qe<C.length;qe++)for(var ge=0;ge<R.length;ge++){var de=b+C[qe]+R[ge];(!t||c||de)&&n.push(de)}return n}});var mr=D((up,gc)=>{gc.exports=Oe;Oe.Minimatch=le;var wn={sep:"/"};try{wn=require("path")}catch{}var Co=Oe.GLOBSTAR=le.GLOBSTAR={},Ih=cc(),uc={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},ko="[^/]",To=ko+"*?",Wh="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Hh="(?:(?!(?:\\/|^)\\.).)*?",lc=$h("().*{}+?[]^$\\!");function $h(e){return e.split("").reduce(function(t,n){return t[n]=!0,t},{})}var dc=/\/+/;Oe.filter=zh;function zh(e,t){return t=t||{},function(n,r,i){return Oe(n,e,t)}}function fc(e,t){e=e||{},t=t||{};var n={};return Object.keys(t).forEach(function(r){n[r]=t[r]}),Object.keys(e).forEach(function(r){n[r]=e[r]}),n}Oe.defaults=function(e){if(!e||!Object.keys(e).length)return Oe;var t=Oe,n=function(i,a,c){return t.minimatch(i,a,fc(e,c))};return n.Minimatch=function(i,a){return new t.Minimatch(i,fc(e,a))},n};le.defaults=function(e){return!e||!Object.keys(e).length?le:Oe.defaults(e).Minimatch};function Oe(e,t,n){if(typeof t!="string")throw new TypeError("glob pattern string required");return n||(n={}),!n.nocomment&&t.charAt(0)==="#"?!1:t.trim()===""?e==="":new le(t,n).match(e)}function le(e,t){if(!(this instanceof le))return new le(e,t);if(typeof e!="string")throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),wn.sep!=="/"&&(e=e.split(wn.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}le.prototype.debug=function(){};le.prototype.make=Bh;function Bh(){if(!this._made){var e=this.pattern,t=this.options;if(!t.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error),this.debug(this.pattern,n),n=this.globParts=n.map(function(r){return r.split(dc)}),this.debug(this.pattern,n),n=n.map(function(r,i,a){return r.map(this.parse,this)},this),this.debug(this.pattern,n),n=n.filter(function(r){return r.indexOf(!1)===-1}),this.debug(this.pattern,n),this.set=n}}le.prototype.parseNegate=Gh;function Gh(){var e=this.pattern,t=!1,n=this.options,r=0;if(!n.nonegate){for(var i=0,a=e.length;i<a&&e.charAt(i)==="!";i++)t=!t,r++;r&&(this.pattern=e.substr(r)),this.negate=t}}Oe.braceExpand=function(e,t){return hc(e,t)};le.prototype.braceExpand=hc;function hc(e,t){if(t||(this instanceof le?t=this.options:t={}),e=typeof e>"u"?this.pattern:e,typeof e>"u")throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:Ih(e)}le.prototype.parse=Jh;var gr={};function Jh(e,t){if(e.length>1024*64)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&e==="**")return Co;if(e==="")return"";var r="",i=!!n.nocase,a=!1,c=[],m=[],h,b=!1,R=-1,C=-1,q=e.charAt(0)==="."?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",S=this;function P(){if(h){switch(h){case"*":r+=To,i=!0;break;case"?":r+=ko,i=!0;break;default:r+="\\"+h;break}S.debug("clearStateChar %j %j",h,r),h=!1}}for(var j=0,M=e.length,y;j<M&&(y=e.charAt(j));j++){if(this.debug("%s	%s %s %j",e,j,r,y),a&&lc[y]){r+="\\"+y,a=!1;continue}switch(y){case"/":return!1;case"\\":P(),a=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,j,r,y),b){this.debug("  in class"),y==="!"&&j===C+1&&(y="^"),r+=y;continue}S.debug("call clearStateChar %j",h),P(),h=y,n.noext&&P();continue;case"(":if(b){r+="(";continue}if(!h){r+="\\(";continue}c.push({type:h,start:j-1,reStart:r.length,open:uc[h].open,close:uc[h].close}),r+=h==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",h,r),h=!1;continue;case")":if(b||!c.length){r+="\\)";continue}P(),i=!0;var v=c.pop();r+=v.close,v.type==="!"&&m.push(v),v.reEnd=r.length;continue;case"|":if(b||!c.length||a){r+="\\|",a=!1;continue}P(),r+="|";continue;case"[":if(P(),b){r+="\\"+y;continue}b=!0,C=j,R=r.length,r+=y;continue;case"]":if(j===C+1||!b){r+="\\"+y,a=!1;continue}if(b){var k=e.substring(C+1,j);try{RegExp("["+k+"]")}catch{var O=this.parse(k,gr);r=r.substr(0,R)+"\\["+O[0]+"\\]",i=i||O[1],b=!1;continue}}i=!0,b=!1,r+=y;continue;default:P(),a?a=!1:lc[y]&&!(y==="^"&&b)&&(r+="\\"),r+=y}}for(b&&(k=e.substr(C+1),O=this.parse(k,gr),r=r.substr(0,R)+"\\["+O[0],i=i||O[1]),v=c.pop();v;v=c.pop()){var A=r.slice(v.reStart+v.open.length);this.debug("setting tail",r,v),A=A.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(et,Nt,mt){return mt||(mt="\\"),Nt+Nt+mt+"|"}),this.debug(`tail=%j
   %s`,A,A,v,r);var oe=v.type==="*"?To:v.type==="?"?ko:"\\"+v.type;i=!0,r=r.slice(0,v.reStart)+oe+"\\("+A}P(),a&&(r+="\\\\");var qe=!1;switch(r.charAt(0)){case".":case"[":case"(":qe=!0}for(var ge=m.length-1;ge>-1;ge--){var de=m[ge],Se=r.slice(0,de.reStart),je=r.slice(de.reStart,de.reEnd-8),We=r.slice(de.reEnd-8,de.reEnd),He=r.slice(de.reEnd);We+=He;var en=Se.split("(").length-1,gt=He;for(j=0;j<en;j++)gt=gt.replace(/\)[+*?]?/,"");He=gt;var Dt="";He===""&&t!==gr&&(Dt="$");var Ve=Se+je+He+Dt+We;r=Ve}if(r!==""&&i&&(r="(?=.)"+r),qe&&(r=q+r),t===gr)return[r,i];if(!i)return Qh(e);var Ot=n.nocase?"i":"";try{var ye=new RegExp("^"+r+"$",Ot)}catch{return new RegExp("$.")}return ye._glob=e,ye._src=r,ye}Oe.makeRe=function(e,t){return new le(e,t||{}).makeRe()};le.prototype.makeRe=Uh;function Uh(){if(this.regexp||this.regexp===!1)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?To:t.dot?Wh:Hh,r=t.nocase?"i":"",i=e.map(function(a){return a.map(function(c){return c===Co?n:typeof c=="string"?Yh(c):c._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,r)}catch{this.regexp=!1}return this.regexp}Oe.match=function(e,t,n){n=n||{};var r=new le(t,n);return e=e.filter(function(i){return r.match(i)}),r.options.nonull&&!e.length&&e.push(t),e};le.prototype.match=Xh;function Xh(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&t)return!0;var n=this.options;wn.sep!=="/"&&(e=e.split(wn.sep).join("/")),e=e.split(dc),this.debug(this.pattern,"split",e);var r=this.set;this.debug(this.pattern,"set",r);var i,a;for(a=e.length-1;a>=0&&(i=e[a],!i);a--);for(a=0;a<r.length;a++){var c=r[a],m=e;n.matchBase&&c.length===1&&(m=[i]);var h=this.matchOne(m,c,t);if(h)return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}le.prototype.matchOne=function(e,t,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var i=0,a=0,c=e.length,m=t.length;i<c&&a<m;i++,a++){this.debug("matchOne loop");var h=t[a],b=e[i];if(this.debug(t,h,b),h===!1)return!1;if(h===Co){this.debug("GLOBSTAR",[t,h,b]);var R=i,C=a+1;if(C===m){for(this.debug("** at the end");i<c;i++)if(e[i]==="."||e[i]===".."||!r.dot&&e[i].charAt(0)===".")return!1;return!0}for(;R<c;){var q=e[R];if(this.debug(`
globstar while`,e,R,t,C,q),this.matchOne(e.slice(R),t.slice(C),n))return this.debug("globstar found match!",R,c,q),!0;if(q==="."||q===".."||!r.dot&&q.charAt(0)==="."){this.debug("dot detected!",e,R,t,C);break}this.debug("globstar swallow a segment, and continue"),R++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,R,t,C),R===c))}var S;if(typeof h=="string"?(r.nocase?S=b.toLowerCase()===h.toLowerCase():S=b===h,this.debug("string match",h,b,S)):(S=b.match(h),this.debug("pattern match",h,b,S)),!S)return!1}if(i===c&&a===m)return!0;if(i===c)return n;if(a===m){var P=i===c-1&&e[i]==="";return P}throw new Error("wtf?")};function Qh(e){return e.replace(/\\(.)/g,"$1")}function Yh(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var mc=D((lp,So)=>{typeof Object.create=="function"?So.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:So.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}}});var pc=D((fp,Eo)=>{try{if(Po=require("util"),typeof Po.inherits!="function")throw"";Eo.exports=Po.inherits}catch{Eo.exports=mc()}var Po});var vr=D((dp,pr)=>{"use strict";function vc(e){return e.charAt(0)==="/"}function yc(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,n=t.exec(e),r=n[1]||"",i=Boolean(r&&r.charAt(1)!==":");return Boolean(n[2]||i)}pr.exports=process.platform==="win32"?yc:vc;pr.exports.posix=vc;pr.exports.win32=yc});var Oo=D(ht=>{ht.setopts=ng;ht.ownProp=_c;ht.makeAbs=qn;ht.finish=rg;ht.mark=ig;ht.isIgnored=Rc;ht.childrenIgnored=og;function _c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Zh=require("fs"),Qt=require("path"),Kh=mr(),bc=vr(),Do=Kh.Minimatch;function Vh(e,t){return e.localeCompare(t,"en")}function eg(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]),e.ignore.length&&(e.ignore=e.ignore.map(tg))}function tg(e){var t=null;if(e.slice(-3)==="/**"){var n=e.replace(/(\/\*\*)+$/,"");t=new Do(n,{dot:!0})}return{matcher:new Do(e,{dot:!0}),gmatcher:t}}function ng(e,t,n){if(n||(n={}),n.matchBase&&t.indexOf("/")===-1){if(n.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!n.silent,e.pattern=t,e.strict=n.strict!==!1,e.realpath=!!n.realpath,e.realpathCache=n.realpathCache||Object.create(null),e.follow=!!n.follow,e.dot=!!n.dot,e.mark=!!n.mark,e.nodir=!!n.nodir,e.nodir&&(e.mark=!0),e.sync=!!n.sync,e.nounique=!!n.nounique,e.nonull=!!n.nonull,e.nosort=!!n.nosort,e.nocase=!!n.nocase,e.stat=!!n.stat,e.noprocess=!!n.noprocess,e.absolute=!!n.absolute,e.fs=n.fs||Zh,e.maxLength=n.maxLength||1/0,e.cache=n.cache||Object.create(null),e.statCache=n.statCache||Object.create(null),e.symlinks=n.symlinks||Object.create(null),eg(e,n),e.changedCwd=!1;var r=process.cwd();_c(n,"cwd")?(e.cwd=Qt.resolve(n.cwd),e.changedCwd=e.cwd!==r):e.cwd=r,e.root=n.root||Qt.resolve(e.cwd,"/"),e.root=Qt.resolve(e.root),process.platform==="win32"&&(e.root=e.root.replace(/\\/g,"/")),e.cwdAbs=bc(e.cwd)?e.cwd:qn(e,e.cwd),process.platform==="win32"&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/")),e.nomount=!!n.nomount,n.nonegate=!0,n.nocomment=!0,e.minimatch=new Do(t,n),e.options=e.minimatch.options}function rg(e){for(var t=e.nounique,n=t?[]:Object.create(null),r=0,i=e.matches.length;r<i;r++){var a=e.matches[r];if(!a||Object.keys(a).length===0){if(e.nonull){var c=e.minimatch.globSet[r];t?n.push(c):n[c]=!0}}else{var m=Object.keys(a);t?n.push.apply(n,m):m.forEach(function(h){n[h]=!0})}}if(t||(n=Object.keys(n)),e.nosort||(n=n.sort(Vh)),e.mark){for(var r=0;r<n.length;r++)n[r]=e._mark(n[r]);e.nodir&&(n=n.filter(function(h){var b=!/\/$/.test(h),R=e.cache[h]||e.cache[qn(e,h)];return b&&R&&(b=R!=="DIR"&&!Array.isArray(R)),b}))}e.ignore.length&&(n=n.filter(function(h){return!Rc(e,h)})),e.found=n}function ig(e,t){var n=qn(e,t),r=e.cache[n],i=t;if(r){var a=r==="DIR"||Array.isArray(r),c=t.slice(-1)==="/";if(a&&!c?i+="/":!a&&c&&(i=i.slice(0,-1)),i!==t){var m=qn(e,i);e.statCache[m]=e.statCache[n],e.cache[m]=e.cache[n]}}return i}function qn(e,t){var n=t;return t.charAt(0)==="/"?n=Qt.join(e.root,t):bc(t)||t===""?n=t:e.changedCwd?n=Qt.resolve(e.cwd,t):n=Qt.resolve(t),process.platform==="win32"&&(n=n.replace(/\\/g,"/")),n}function Rc(e,t){return e.ignore.length?e.ignore.some(function(n){return n.matcher.match(t)||!!(n.gmatcher&&n.gmatcher.match(t))}):!1}function og(e,t){return e.ignore.length?e.ignore.some(function(n){return!!(n.gmatcher&&n.gmatcher.match(t))}):!1}});var Cc=D((vp,Tc)=>{Tc.exports=kc;kc.GlobSync=ie;var sg=Ro(),wc=mr(),gp=wc.Minimatch,mp=Mo().Glob,pp=require("util"),No=require("path"),qc=require("assert"),yr=vr(),St=Oo(),ag=St.setopts,jo=St.ownProp,cg=St.childrenIgnored,ug=St.isIgnored;function kc(e,t){if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new ie(e,t).found}function ie(e,t){if(!e)throw new Error("must provide pattern");if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof ie))return new ie(e,t);if(ag(this,e,t),this.noprocess)return this;var n=this.minimatch.set.length;this.matches=new Array(n);for(var r=0;r<n;r++)this._process(this.minimatch.set[r],r,!1);this._finish()}ie.prototype._finish=function(){if(qc(this instanceof ie),this.realpath){var e=this;this.matches.forEach(function(t,n){var r=e.matches[n]=Object.create(null);for(var i in t)try{i=e._makeAbs(i);var a=sg.realpathSync(i,e.realpathCache);r[a]=!0}catch(c){if(c.syscall==="stat")r[e._makeAbs(i)]=!0;else throw c}})}St.finish(this)};ie.prototype._process=function(e,t,n){qc(this instanceof ie);for(var r=0;typeof e[r]=="string";)r++;var i;switch(r){case e.length:this._processSimple(e.join("/"),t);return;case 0:i=null;break;default:i=e.slice(0,r).join("/");break}var a=e.slice(r),c;i===null?c=".":((yr(i)||yr(e.join("/")))&&(!i||!yr(i))&&(i="/"+i),c=i);var m=this._makeAbs(c);if(!cg(this,c)){var h=a[0]===wc.GLOBSTAR;h?this._processGlobStar(i,c,m,a,t,n):this._processReaddir(i,c,m,a,t,n)}};ie.prototype._processReaddir=function(e,t,n,r,i,a){var c=this._readdir(n,a);if(!!c){for(var m=r[0],h=!!this.minimatch.negate,b=m._glob,R=this.dot||b.charAt(0)===".",C=[],q=0;q<c.length;q++){var S=c[q];if(S.charAt(0)!=="."||R){var P;h&&!e?P=!S.match(m):P=S.match(m),P&&C.push(S)}}var j=C.length;if(j!==0){if(r.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var q=0;q<j;q++){var S=C[q];e&&(e.slice(-1)!=="/"?S=e+"/"+S:S=e+S),S.charAt(0)==="/"&&!this.nomount&&(S=No.join(this.root,S)),this._emitMatch(i,S)}return}r.shift();for(var q=0;q<j;q++){var S=C[q],M;e?M=[e,S]:M=[S],this._process(M.concat(r),i,a)}}}};ie.prototype._emitMatch=function(e,t){if(!ug(this,t)){var n=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if(r==="DIR"||Array.isArray(r))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}};ie.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,n,r;try{n=this.fs.lstatSync(e)}catch(a){if(a.code==="ENOENT")return null}var i=n&&n.isSymbolicLink();return this.symlinks[e]=i,!i&&n&&!n.isDirectory()?this.cache[e]="FILE":t=this._readdir(e,!1),t};ie.prototype._readdir=function(e,t){var n;if(t&&!jo(this.symlinks,e))return this._readdirInGlobStar(e);if(jo(this.cache,e)){var r=this.cache[e];if(!r||r==="FILE")return null;if(Array.isArray(r))return r}try{return this._readdirEntries(e,this.fs.readdirSync(e))}catch(i){return this._readdirError(e,i),null}};ie.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var r=t[n];e==="/"?r=e+r:r=e+"/"+r,this.cache[r]=!0}return this.cache[e]=t,t};ie.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var r=new Error(t.code+" invalid cwd "+this.cwd);throw r.path=this.cwd,r.code=t.code,r}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t);break}};ie.prototype._processGlobStar=function(e,t,n,r,i,a){var c=this._readdir(n,a);if(!!c){var m=r.slice(1),h=e?[e]:[],b=h.concat(m);this._process(b,i,!1);var R=c.length,C=this.symlinks[n];if(!(C&&a))for(var q=0;q<R;q++){var S=c[q];if(!(S.charAt(0)==="."&&!this.dot)){var P=h.concat(c[q],m);this._process(P,i,!0);var j=h.concat(c[q],r);this._process(j,i,!0)}}}};ie.prototype._processSimple=function(e,t){var n=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),!!n){if(e&&yr(e)&&!this.nomount){var r=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=No.join(this.root,e):(e=No.resolve(this.root,e),r&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}};ie.prototype._stat=function(e){var t=this._makeAbs(e),n=e.slice(-1)==="/";if(e.length>this.maxLength)return!1;if(!this.stat&&jo(this.cache,t)){var c=this.cache[t];if(Array.isArray(c)&&(c="DIR"),!n||c==="DIR")return c;if(n&&c==="FILE")return!1}var r,i=this.statCache[t];if(!i){var a;try{a=this.fs.lstatSync(t)}catch(m){if(m&&(m.code==="ENOENT"||m.code==="ENOTDIR"))return this.statCache[t]=!1,!1}if(a&&a.isSymbolicLink())try{i=this.fs.statSync(t)}catch{i=a}else i=a}this.statCache[t]=i;var c=!0;return i&&(c=i.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||c,n&&c==="FILE"?!1:c};ie.prototype._mark=function(e){return St.mark(this,e)};ie.prototype._makeAbs=function(e){return St.makeAbs(this,e)}});var Fo=D((yp,Pc)=>{Pc.exports=Sc;function Sc(e,t){if(e&&t)return Sc(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(r){n[r]=e[r]}),n;function n(){for(var r=new Array(arguments.length),i=0;i<r.length;i++)r[i]=arguments[i];var a=e.apply(this,r),c=r[r.length-1];return typeof a=="function"&&a!==c&&Object.keys(c).forEach(function(m){a[m]=c[m]}),a}}});var Ao=D((_p,xo)=>{var Ec=Fo();xo.exports=Ec(_r);xo.exports.strict=Ec(Dc);_r.proto=_r(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return _r(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return Dc(this)},configurable:!0})});function _r(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function Dc(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}});var Nc=D((bp,Oc)=>{var lg=Fo(),kn=Object.create(null),fg=Ao();Oc.exports=lg(dg);function dg(e,t){return kn[e]?(kn[e].push(t),null):(kn[e]=[t],hg(e))}function hg(e){return fg(function t(){var n=kn[e],r=n.length,i=gg(arguments);try{for(var a=0;a<r;a++)n[a].apply(null,i)}finally{n.length>r?(n.splice(0,r),process.nextTick(function(){t.apply(null,i)})):delete kn[e]}})}function gg(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r]=e[r];return n}});var Mo=D((qp,Mc)=>{Mc.exports=Pt;var mg=Ro(),jc=mr(),Rp=jc.Minimatch,pg=pc(),vg=require("events").EventEmitter,Lo=require("path"),Io=require("assert"),Tn=vr(),Ho=Cc(),Et=Oo(),yg=Et.setopts,Wo=Et.ownProp,$o=Nc(),wp=require("util"),_g=Et.childrenIgnored,bg=Et.isIgnored,Rg=Ao();function Pt(e,t,n){if(typeof t=="function"&&(n=t,t={}),t||(t={}),t.sync){if(n)throw new TypeError("callback provided to sync glob");return Ho(e,t)}return new U(e,t,n)}Pt.sync=Ho;var wg=Pt.GlobSync=Ho.GlobSync;Pt.glob=Pt;function qg(e,t){if(t===null||typeof t!="object")return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}Pt.hasMagic=function(e,t){var n=qg({},t);n.noprocess=!0;var r=new U(e,n),i=r.minimatch.set;if(!e)return!1;if(i.length>1)return!0;for(var a=0;a<i[0].length;a++)if(typeof i[0][a]!="string")return!0;return!1};Pt.Glob=U;pg(U,vg);function U(e,t,n){if(typeof t=="function"&&(n=t,t=null),t&&t.sync){if(n)throw new TypeError("callback provided to sync glob");return new wg(e,t)}if(!(this instanceof U))return new U(e,t,n);yg(this,e,t),this._didRealPath=!1;var r=this.minimatch.set.length;this.matches=new Array(r),typeof n=="function"&&(n=Rg(n),this.on("error",n),this.on("end",function(h){n(null,h)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(r===0)return m();for(var a=!0,c=0;c<r;c++)this._process(this.minimatch.set[c],c,!1,m);a=!1;function m(){--i._processing,i._processing<=0&&(a?process.nextTick(function(){i._finish()}):i._finish())}}U.prototype._finish=function(){if(Io(this instanceof U),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();Et.finish(this),this.emit("end",this.found)}};U.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var e=this.matches.length;if(e===0)return this._finish();for(var t=this,n=0;n<this.matches.length;n++)this._realpathSet(n,r);function r(){--e===0&&t._finish()}};U.prototype._realpathSet=function(e,t){var n=this.matches[e];if(!n)return t();var r=Object.keys(n),i=this,a=r.length;if(a===0)return t();var c=this.matches[e]=Object.create(null);r.forEach(function(m,h){m=i._makeAbs(m),mg.realpath(m,i.realpathCache,function(b,R){b?b.syscall==="stat"?c[m]=!0:i.emit("error",b):c[R]=!0,--a===0&&(i.matches[e]=c,t())})})};U.prototype._mark=function(e){return Et.mark(this,e)};U.prototype._makeAbs=function(e){return Et.makeAbs(this,e)};U.prototype.abort=function(){this.aborted=!0,this.emit("abort")};U.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};U.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var n=e[t];this._emitMatch(n[0],n[1])}}if(this._processQueue.length){var r=this._processQueue.slice(0);this._processQueue.length=0;for(var t=0;t<r.length;t++){var i=r[t];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}};U.prototype._process=function(e,t,n,r){if(Io(this instanceof U),Io(typeof r=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([e,t,n,r]);return}for(var i=0;typeof e[i]=="string";)i++;var a;switch(i){case e.length:this._processSimple(e.join("/"),t,r);return;case 0:a=null;break;default:a=e.slice(0,i).join("/");break}var c=e.slice(i),m;a===null?m=".":((Tn(a)||Tn(e.join("/")))&&(!a||!Tn(a))&&(a="/"+a),m=a);var h=this._makeAbs(m);if(_g(this,m))return r();var b=c[0]===jc.GLOBSTAR;b?this._processGlobStar(a,m,h,c,t,n,r):this._processReaddir(a,m,h,c,t,n,r)}};U.prototype._processReaddir=function(e,t,n,r,i,a,c){var m=this;this._readdir(n,a,function(h,b){return m._processReaddir2(e,t,n,r,i,a,b,c)})};U.prototype._processReaddir2=function(e,t,n,r,i,a,c,m){if(!c)return m();for(var h=r[0],b=!!this.minimatch.negate,R=h._glob,C=this.dot||R.charAt(0)===".",q=[],S=0;S<c.length;S++){var P=c[S];if(P.charAt(0)!=="."||C){var j;b&&!e?j=!P.match(h):j=P.match(h),j&&q.push(P)}}var M=q.length;if(M===0)return m();if(r.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var S=0;S<M;S++){var P=q[S];e&&(e!=="/"?P=e+"/"+P:P=e+P),P.charAt(0)==="/"&&!this.nomount&&(P=Lo.join(this.root,P)),this._emitMatch(i,P)}return m()}r.shift();for(var S=0;S<M;S++){var P=q[S],y;e&&(e!=="/"?P=e+"/"+P:P=e+P),this._process([P].concat(r),i,a,m)}m()};U.prototype._emitMatch=function(e,t){if(!this.aborted&&!bg(this,t)){if(this.paused){this._emitQueue.push([e,t]);return}var n=Tn(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if(r==="DIR"||Array.isArray(r))return}this.matches[e][t]=!0;var i=this.statCache[n];i&&this.emit("stat",t,i),this.emit("match",t)}}};U.prototype._readdirInGlobStar=function(e,t){if(this.aborted)return;if(this.follow)return this._readdir(e,!1,t);var n="lstat\0"+e,r=this,i=$o(n,a);i&&r.fs.lstat(e,i);function a(c,m){if(c&&c.code==="ENOENT")return t();var h=m&&m.isSymbolicLink();r.symlinks[e]=h,!h&&m&&!m.isDirectory()?(r.cache[e]="FILE",t()):r._readdir(e,!1,t)}};U.prototype._readdir=function(e,t,n){if(!this.aborted&&(n=$o("readdir\0"+e+"\0"+t,n),!!n)){if(t&&!Wo(this.symlinks,e))return this._readdirInGlobStar(e,n);if(Wo(this.cache,e)){var r=this.cache[e];if(!r||r==="FILE")return n();if(Array.isArray(r))return n(null,r)}var i=this;i.fs.readdir(e,kg(this,e,n))}};function kg(e,t,n){return function(r,i){r?e._readdirError(t,r,n):e._readdirEntries(t,i,n)}}U.prototype._readdirEntries=function(e,t,n){if(!this.aborted){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var i=t[r];e==="/"?i=e+i:i=e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,n(null,t)}};U.prototype._readdirError=function(e,t,n){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=t.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t);break}return n()}};U.prototype._processGlobStar=function(e,t,n,r,i,a,c){var m=this;this._readdir(n,a,function(h,b){m._processGlobStar2(e,t,n,r,i,a,b,c)})};U.prototype._processGlobStar2=function(e,t,n,r,i,a,c,m){if(!c)return m();var h=r.slice(1),b=e?[e]:[],R=b.concat(h);this._process(R,i,!1,m);var C=this.symlinks[n],q=c.length;if(C&&a)return m();for(var S=0;S<q;S++){var P=c[S];if(!(P.charAt(0)==="."&&!this.dot)){var j=b.concat(c[S],h);this._process(j,i,!0,m);var M=b.concat(c[S],r);this._process(M,i,!0,m)}}m()};U.prototype._processSimple=function(e,t,n){var r=this;this._stat(e,function(i,a){r._processSimple2(e,t,i,a,n)})};U.prototype._processSimple2=function(e,t,n,r,i){if(this.matches[t]||(this.matches[t]=Object.create(null)),!r)return i();if(e&&Tn(e)&&!this.nomount){var a=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=Lo.join(this.root,e):(e=Lo.resolve(this.root,e),a&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),i()};U.prototype._stat=function(e,t){var n=this._makeAbs(e),r=e.slice(-1)==="/";if(e.length>this.maxLength)return t();if(!this.stat&&Wo(this.cache,n)){var i=this.cache[n];if(Array.isArray(i)&&(i="DIR"),!r||i==="DIR")return t(null,i);if(r&&i==="FILE")return t()}var a,c=this.statCache[n];if(c!==void 0){if(c===!1)return t(null,c);var m=c.isDirectory()?"DIR":"FILE";return r&&m==="FILE"?t():t(null,m,c)}var h=this,b=$o("stat\0"+n,R);b&&h.fs.lstat(n,b);function R(C,q){if(q&&q.isSymbolicLink())return h.fs.stat(n,function(S,P){S?h._stat2(e,n,null,q,t):h._stat2(e,n,S,P,t)});h._stat2(e,n,C,q,t)}};U.prototype._stat2=function(e,t,n,r,i){if(n&&(n.code==="ENOENT"||n.code==="ENOTDIR"))return this.statCache[t]=!1,i();var a=e.slice(-1)==="/";if(this.statCache[t]=r,t.slice(-1)==="/"&&r&&!r.isDirectory())return i(null,!1,r);var c=!0;return r&&(c=r.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||c,a&&c==="FILE"?i():i(null,c,r)}});var $c=D((kp,Hc)=>{var Q=require("assert"),Lc=require("path"),Fc=require("fs"),Yt;try{Yt=Mo()}catch{}var Tg={nosort:!0,silent:!0},zo=0,Cn=process.platform==="win32",Ic=e=>{if(["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(n=>{e[n]=e[n]||Fc[n],n=n+"Sync",e[n]=e[n]||Fc[n]}),e.maxBusyTries=e.maxBusyTries||3,e.emfileWait=e.emfileWait||1e3,e.glob===!1&&(e.disableGlob=!0),e.disableGlob!==!0&&Yt===void 0)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");e.disableGlob=e.disableGlob||!1,e.glob=e.glob||Tg},Go=(e,t,n)=>{typeof t=="function"&&(n=t,t={}),Q(e,"rimraf: missing path"),Q.equal(typeof e,"string","rimraf: path should be a string"),Q.equal(typeof n,"function","rimraf: callback function required"),Q(t,"rimraf: invalid options argument provided"),Q.equal(typeof t,"object","rimraf: options should be object"),Ic(t);let r=0,i=null,a=0,c=h=>{i=i||h,--a===0&&n(i)},m=(h,b)=>{if(h)return n(h);if(a=b.length,a===0)return n();b.forEach(R=>{let C=q=>{if(q){if((q.code==="EBUSY"||q.code==="ENOTEMPTY"||q.code==="EPERM")&&r<t.maxBusyTries)return r++,setTimeout(()=>Bo(R,t,C),r*100);if(q.code==="EMFILE"&&zo<t.emfileWait)return setTimeout(()=>Bo(R,t,C),zo++);q.code==="ENOENT"&&(q=null)}zo=0,c(q)};Bo(R,t,C)})};if(t.disableGlob||!Yt.hasMagic(e))return m(null,[e]);t.lstat(e,(h,b)=>{if(!h)return m(null,[e]);Yt(e,t.glob,m)})},Bo=(e,t,n)=>{Q(e),Q(t),Q(typeof n=="function"),t.lstat(e,(r,i)=>{if(r&&r.code==="ENOENT")return n(null);if(r&&r.code==="EPERM"&&Cn&&xc(e,t,r,n),i&&i.isDirectory())return br(e,t,r,n);t.unlink(e,a=>{if(a){if(a.code==="ENOENT")return n(null);if(a.code==="EPERM")return Cn?xc(e,t,a,n):br(e,t,a,n);if(a.code==="EISDIR")return br(e,t,a,n)}return n(a)})})},xc=(e,t,n,r)=>{Q(e),Q(t),Q(typeof r=="function"),t.chmod(e,438,i=>{i?r(i.code==="ENOENT"?null:n):t.stat(e,(a,c)=>{a?r(a.code==="ENOENT"?null:n):c.isDirectory()?br(e,t,n,r):t.unlink(e,r)})})},Ac=(e,t,n)=>{Q(e),Q(t);try{t.chmodSync(e,438)}catch(i){if(i.code==="ENOENT")return;throw n}let r;try{r=t.statSync(e)}catch(i){if(i.code==="ENOENT")return;throw n}r.isDirectory()?Rr(e,t,n):t.unlinkSync(e)},br=(e,t,n,r)=>{Q(e),Q(t),Q(typeof r=="function"),t.rmdir(e,i=>{i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?Cg(e,t,r):i&&i.code==="ENOTDIR"?r(n):r(i)})},Cg=(e,t,n)=>{Q(e),Q(t),Q(typeof n=="function"),t.readdir(e,(r,i)=>{if(r)return n(r);let a=i.length;if(a===0)return t.rmdir(e,n);let c;i.forEach(m=>{Go(Lc.join(e,m),t,h=>{if(!c){if(h)return n(c=h);--a===0&&t.rmdir(e,n)}})})})},Wc=(e,t)=>{t=t||{},Ic(t),Q(e,"rimraf: missing path"),Q.equal(typeof e,"string","rimraf: path should be a string"),Q(t,"rimraf: missing options"),Q.equal(typeof t,"object","rimraf: options should be object");let n;if(t.disableGlob||!Yt.hasMagic(e))n=[e];else try{t.lstatSync(e),n=[e]}catch{n=Yt.sync(e,t.glob)}if(!!n.length)for(let r=0;r<n.length;r++){let i=n[r],a;try{a=t.lstatSync(i)}catch(c){if(c.code==="ENOENT")return;c.code==="EPERM"&&Cn&&Ac(i,t,c)}try{a&&a.isDirectory()?Rr(i,t,null):t.unlinkSync(i)}catch(c){if(c.code==="ENOENT")return;if(c.code==="EPERM")return Cn?Ac(i,t,c):Rr(i,t,c);if(c.code!=="EISDIR")throw c;Rr(i,t,c)}}},Rr=(e,t,n)=>{Q(e),Q(t);try{t.rmdirSync(e)}catch(r){if(r.code==="ENOENT")return;if(r.code==="ENOTDIR")throw n;(r.code==="ENOTEMPTY"||r.code==="EEXIST"||r.code==="EPERM")&&Sg(e,t)}},Sg=(e,t)=>{Q(e),Q(t),t.readdirSync(e).forEach(i=>Wc(Lc.join(e,i),t));let n=Cn?100:1,r=0;do{let i=!0;try{let a=t.rmdirSync(e,t);return i=!1,a}finally{if(++r<n&&i)continue}}while(!0)};Hc.exports=Go;Go.sync=Wc});var su=D((Tp,Ke)=>{var fe=require("fs"),Yo=require("os"),Ce=require("path"),zc=require("crypto"),Ge={fs:fe.constants,os:Yo.constants},Jc=$c(),Bc="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",Uc=/XXXXXX/,Pg=3,Xc=(Ge.O_CREAT||Ge.fs.O_CREAT)|(Ge.O_EXCL||Ge.fs.O_EXCL)|(Ge.O_RDWR||Ge.fs.O_RDWR),Eg=Yo.platform()==="win32",Dg=Ge.EBADF||Ge.os.errno.EBADF,Og=Ge.ENOENT||Ge.os.errno.ENOENT,Qc=448,Yc=384,Ng="exit",Zt=[],Zc=fe.rmdirSync.bind(fe),Kc=Jc.sync,Vc=!1;function Zo(e,t){let n=Kt(e,t),r=n[0],i=n[1];try{ru(r)}catch(c){return i(c)}let a=r.tries;(function c(){try{let m=nu(r);fe.stat(m,function(h){if(!h)return a-- >0?c():i(new Error("Could not get a unique tmp filename, max tries reached "+m));i(null,m)})}catch(m){i(m)}})()}function Ko(e){let t=Kt(e),n=t[0];ru(n);let r=n.tries;do{let i=nu(n);try{fe.statSync(i)}catch{return i}}while(r-- >0);throw new Error("Could not get a unique tmp filename, max tries reached")}function jg(e,t){let n=Kt(e,t),r=n[0],i=n[1];Zo(r,function(c,m){if(c)return i(c);fe.open(m,Xc,r.mode||Yc,function(b,R){if(b)return i(b);if(r.discardDescriptor)return fe.close(R,function(q){return i(q,m,void 0,Uo(m,-1,r,!1))});{let C=r.discardDescriptor||r.detachDescriptor;i(null,m,R,Uo(m,C?-1:R,r,!1))}})})}function Mg(e){let t=Kt(e),n=t[0],r=n.discardDescriptor||n.detachDescriptor,i=Ko(n);var a=fe.openSync(i,Xc,n.mode||Yc);return n.discardDescriptor&&(fe.closeSync(a),a=void 0),{name:i,fd:a,removeCallback:Uo(i,r?-1:a,n,!0)}}function Fg(e,t){let n=Kt(e,t),r=n[0],i=n[1];Zo(r,function(c,m){if(c)return i(c);fe.mkdir(m,r.mode||Qc,function(b){if(b)return i(b);i(null,m,eu(m,r,!1))})})}function xg(e){let t=Kt(e),n=t[0],r=Ko(n);return fe.mkdirSync(r,n.mode||Qc),{name:r,removeCallback:eu(r,n,!0)}}function Ag(e,t){let n=function(r){if(r&&!Qo(r))return t(r);t()};0<=e[0]?fe.close(e[0],function(){fe.unlink(e[1],n)}):fe.unlink(e[1],n)}function Lg(e){let t=null;try{0<=e[0]&&fe.closeSync(e[0])}catch(n){if(!Wg(n)&&!Qo(n))throw n}finally{try{fe.unlinkSync(e[1])}catch(n){Qo(n)||(t=n)}}if(t!==null)throw t}function Uo(e,t,n,r){let i=wr(Lg,[t,e],r),a=wr(Ag,[t,e],r,i);return n.keep||Zt.unshift(i),r?i:a}function eu(e,t,n){let r=t.unsafeCleanup?Jc:fe.rmdir.bind(fe),i=t.unsafeCleanup?Kc:Zc,a=wr(i,e,n),c=wr(r,e,n,a);return t.keep||Zt.unshift(a),n?a:c}function wr(e,t,n,r){let i=!1;return function a(c){if(!i){let m=r||a,h=Zt.indexOf(m);return h>=0&&Zt.splice(h,1),i=!0,n||e===Zc||e===Kc?e(t):e(t,c||function(){})}}}function Ig(){if(!!Vc)for(;Zt.length;)try{Zt[0]()}catch{}}function Gc(e){let t=[],n=null;try{n=zc.randomBytes(e)}catch{n=zc.pseudoRandomBytes(e)}for(var r=0;r<e;r++)t.push(Bc[n[r]%Bc.length]);return t.join("")}function tu(e){return e===null||Re(e)||!e.trim()}function Re(e){return typeof e>"u"}function Kt(e,t){if(typeof e=="function")return[{},e];if(Re(e))return[{},t];let n={};for(let r of Object.getOwnPropertyNames(e))n[r]=e[r];return[n,t]}function nu(e){let t=e.tmpdir;if(!Re(e.name))return Ce.join(t,e.dir,e.name);if(!Re(e.template))return Ce.join(t,e.dir,e.template).replace(Uc,Gc(6));let n=[e.prefix?e.prefix:"tmp","-",process.pid,"-",Gc(12),e.postfix?"-"+e.postfix:""].join("");return Ce.join(t,e.dir,n)}function ru(e){e.tmpdir=ou(e);let t=e.tmpdir;if(Re(e.name)||Jo(e.name,"name",t),Re(e.dir)||Jo(e.dir,"dir",t),!Re(e.template)&&(Jo(e.template,"template",t),!e.template.match(Uc)))throw new Error(`Invalid template, found "${e.template}".`);if(!Re(e.tries)&&isNaN(e.tries)||e.tries<0)throw new Error(`Invalid tries, found "${e.tries}".`);e.tries=Re(e.name)?e.tries||Pg:1,e.keep=!!e.keep,e.detachDescriptor=!!e.detachDescriptor,e.discardDescriptor=!!e.discardDescriptor,e.unsafeCleanup=!!e.unsafeCleanup,e.dir=Re(e.dir)?"":Ce.relative(t,Xo(e.dir,t)),e.template=Re(e.template)?void 0:Ce.relative(t,Xo(e.template,t)),e.template=tu(e.template)?void 0:Ce.relative(e.dir,e.template),e.name=Re(e.name)?void 0:Vo(e.name),e.prefix=Re(e.prefix)?"":e.prefix,e.postfix=Re(e.postfix)?"":e.postfix}function Xo(e,t){let n=Vo(e);return n.startsWith(t)?Ce.resolve(n):Ce.resolve(Ce.join(t,n))}function Vo(e){return tu(e)?e:e.replace(/["']/g,"")}function Jo(e,t,n){if(t==="name"){if(Ce.isAbsolute(e))throw new Error(`${t} option must not contain an absolute path, found "${e}".`);let r=Ce.basename(e);if(r===".."||r==="."||r!==e)throw new Error(`${t} option must not contain a path, found "${e}".`)}else{if(Ce.isAbsolute(e)&&!e.startsWith(n))throw new Error(`${t} option must be relative to "${n}", found "${e}".`);let r=Xo(e,n);if(!r.startsWith(n))throw new Error(`${t} option must be relative to "${n}", found "${r}".`)}}function Wg(e){return iu(e,-Dg,"EBADF")}function Qo(e){return iu(e,-Og,"ENOENT")}function iu(e,t,n){return Eg?e.code===n:e.code===n&&e.errno===t}function Hg(){Vc=!0}function ou(e){return Ce.resolve(Vo(e&&e.tmpdir||Yo.tmpdir()))}process.addListener(Ng,Ig);Object.defineProperty(Ke.exports,"tmpdir",{enumerable:!0,configurable:!1,get:function(){return ou()}});Ke.exports.dir=Fg;Ke.exports.dirSync=xg;Ke.exports.file=jg;Ke.exports.fileSync=Mg;Ke.exports.tmpName=Zo;Ke.exports.tmpNameSync=Ko;Ke.exports.setGracefulCleanup=Hg});var Ne=Ar(Wa()),cu=Ar($a()),Sn=Ar(be()),we=(0,Ne.createConnection)(Ne.ProposedFeatures.all),Vt=new Ne.TextDocuments(cu.TextDocument),kr=!1,es=!1,uu=!1,$g=require("fs"),zg=su(),Bg=require("node:util"),Gg=Bg.promisify(require("node:child_process").exec),au=zg.fileSync();we.onInitialize(e=>{let t=e.capabilities;kr=!!(t.workspace&&!!t.workspace.configuration),es=!!(t.workspace&&!!t.workspace.workspaceFolders),uu=!!(t.textDocument&&t.textDocument.publishDiagnostics&&t.textDocument.publishDiagnostics.relatedInformation);let n={capabilities:{textDocumentSync:Ne.TextDocumentSyncKind.Incremental,documentSymbolProvider:!0,definitionProvider:!0}};return es&&(n.capabilities.workspace={workspaceFolders:{supported:!0}}),n});we.onInitialized(()=>{kr&&we.client.register(Ne.DidChangeConfigurationNotification.type,void 0),es&&we.workspace.onDidChangeWorkspaceFolders(e=>{we.console.log("Workspace folder change event received.")})});we.onDefinition(async e=>{console.time("onDefinition");let t=Vt.get(e.textDocument.uri),n=await ts(e.textDocument.uri),r=t?.getText(),i=[];if(typeof r=="string"){let a=await ns(r,"--show-definitions ",n);console.log("got: ",a);let c=JSON.parse(a);for(let m=0;m<c.length;m++)if(c[m].location)return{targetUri:e.textDocument.uri,targetRange:{start:{line:c[m].location.range.start.line,character:c[m].location.range.start.character},end:{line:c[m].location.range.end.line,character:c[m].location.range.end.character}},targetSelectionRange:{start:{line:c[m].location.range.start.line,character:c[m].location.range.start.character},end:{line:c[m].location.range.end.line,character:c[m].location.range.end.character}},originSelectionRange:{start:{line:e.position.line,character:Math.max(0,e.position.character-4)},end:{line:e.position.line,character:e.position.character+4}}};return}});var lu={maxNumberOfProblems:1e3,compiler:{executablePath:"lpython"}},fu=lu,qr=new Map;we.onDocumentSymbol(async e=>{let t=Vt.get(e.textDocument.uri),n=await ts(e.textDocument.uri),r=t?.getText(),i=[];if(typeof r=="string"){let a=await ns(r,"--show-document-symbols ",n),c=JSON.parse(a);for(let m=0;m<c.length;m++)if(c[m].location){let h={location:{uri:e.textDocument.uri,range:{start:Sn.Position.create(c[m].location.range.start.line,c[m].location.range.start.character),end:Sn.Position.create(c[m].location.range.end.line,c[m].location.range.end.character)}},kind:Ne.SymbolKind.Function,name:c[m].name};i.push(h)}}return console.log(i),i});we.onDidChangeConfiguration(e=>{kr?qr.clear():fu=e.settings.LPythonLanguageServer||lu,Vt.all().forEach(du)});function ts(e){if(!kr)return Promise.resolve(fu);let t=qr.get(e);return t||(t=we.workspace.getConfiguration({scopeUri:e,section:"LPythonLanguageServer"}),qr.set(e,t)),t}Vt.onDidClose(e=>{qr.delete(e.document.uri)});function Jg(e,t){let n=!1,r,i=()=>{r==null?n=!1:(e(...r),r=null,setTimeout(i,t))};return(...a)=>{if(n){r=a;return}e(...a),n=!0,setTimeout(i,t)}}Vt.onDidChangeContent((()=>{let e=Jg(du,500);return t=>{e(t.document)}})());async function ns(e,t,n){try{$g.writeFileSync(au.name,e)}catch(i){console.log(i)}let r;try{r=(await Gg(`${n.compiler.executablePath} ${t} ${au.name}`)).stdout}catch(i){r=i.stdout,i.signal!=null?(console.log("compile failed: "),console.log(i)):console.log("Error:",i)}return r}async function du(e){if(console.time("validateTextDocument"),!uu){console.error("Trying to validate a document with no diagnostic capability");return}let t=await ts(e.uri),n=e.getText(),r=await ns(n,"--show-errors ",t),i=JSON.parse(r),a=[];if(i.diagnostics){let c={severity:2,range:{start:Sn.Position.create(i.diagnostics[0].range.start.line,i.diagnostics[0].range.start.character),end:Sn.Position.create(i.diagnostics[0].range.end.line,i.diagnostics[0].range.end.character)},message:i.diagnostics[0].message,source:"lpyth"};a.push(c)}we.sendDiagnostics({uri:e.uri,diagnostics:a}),console.timeEnd("validateTextDocument")}we.onDidChangeWatchedFiles(e=>{we.console.log("We received an file change event")});Vt.listen(we);we.listen();
/*!
 * Tmp
 *
 * Copyright (c) 2011-2017 KARASZI Istvan <github@spam.raszi.hu>
 *
 * MIT Licensed
 */
//# sourceMappingURL=server.js.map
